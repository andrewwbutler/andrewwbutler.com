import{S as te,i as ne,s as re,F as ct,k as E,q as S,a as C,l as N,m as x,r as A,h as b,c as L,n as y,L as pe,b as M,J as k,M as ge,u as de,G as ht,H as dt,I as gt,f as P,t as R,N as cr,O as jr,g as Pe,d as Re,P as De,B as J,w as F,x as G,y as U,z as Y,Q as Wn,R as Mi,E as Ei,T as hr,K as T,U as Ni,V as Ti,W as Pi,X as Hn,Y as Ri,Z as Di,_ as Si,$ as jn,D as dr,e as se,a0 as ke,a1 as Ul,o as Ai,a2 as q,a3 as zi,p as $,a4 as Ii,a5 as nr,a6 as ie,a7 as ae,a8 as Vn,a9 as Yl}from"../../chunks/index-09b1af88.js";import{w as j,d as Z}from"../../chunks/index-683b07c1.js";function ji(t){let e,n,r,l,i,a,o,s;const u=t[4].default,f=ct(u,t,t[3],null);return{c(){e=E("div"),n=E("div"),r=S(t[2]),l=C(),i=E("button"),f&&f.c(),this.h()},l(c){e=N(c,"DIV",{class:!0});var d=x(e);n=N(d,"DIV",{class:!0});var g=x(n);r=A(g,t[2]),g.forEach(b),l=L(d),i=N(d,"BUTTON",{class:!0});var h=x(i);f&&f.l(h),h.forEach(b),d.forEach(b),this.h()},h(){y(n,"class","letter-label svelte-180z40v"),y(i,"class","svelte-180z40v"),pe(i,"selected",t[0]),pe(i,"added",t[1]),y(e,"class","button-row")},m(c,d){M(c,e,d),k(e,n),k(n,r),k(e,l),k(e,i),f&&f.m(i,null),a=!0,o||(s=ge(i,"click",t[5]),o=!0)},p(c,[d]){(!a||d&4)&&de(r,c[2]),f&&f.p&&(!a||d&8)&&ht(f,u,c,c[3],a?gt(u,c[3],d,null):dt(c[3]),null),(!a||d&1)&&pe(i,"selected",c[0]),(!a||d&2)&&pe(i,"added",c[1])},i(c){a||(P(f,c),a=!0)},o(c){R(f,c),a=!1},d(c){c&&b(e),f&&f.d(c),o=!1,s()}}}function Ci(t,e,n){let{$$slots:r={},$$scope:l}=e,{selected:i=!1}=e,{added:a=!1}=e,{rowLetter:o=""}=e;function s(u){cr.call(this,t,u)}return t.$$set=u=>{"selected"in u&&n(0,i=u.selected),"added"in u&&n(1,a=u.added),"rowLetter"in u&&n(2,o=u.rowLetter),"$$scope"in u&&n(3,l=u.$$scope)},[i,a,o,l,r,s]}class Li extends te{constructor(e){super(),ne(this,e,Ci,ji,re,{selected:0,added:1,rowLetter:2})}}function qi(t){let e,n,r,l,i;const a=t[2].default,o=ct(a,t,t[1],null);return{c(){e=E("div"),n=E("div"),r=S(t[0]),l=C(),o&&o.c(),this.h()},l(s){e=N(s,"DIV",{class:!0});var u=x(e);n=N(u,"DIV",{class:!0});var f=x(n);r=A(f,t[0]),f.forEach(b),l=L(u),o&&o.l(u),u.forEach(b),this.h()},h(){y(n,"class","title text-xl text-center"),y(e,"class","card shadow-lg min-w-min svelte-1tnsosu")},m(s,u){M(s,e,u),k(e,n),k(n,r),k(e,l),o&&o.m(e,null),i=!0},p(s,[u]){(!i||u&1)&&de(r,s[0]),o&&o.p&&(!i||u&2)&&ht(o,a,s,s[1],i?gt(a,s[1],u,null):dt(s[1]),null)},i(s){i||(P(o,s),i=!0)},o(s){R(o,s),i=!1},d(s){s&&b(e),o&&o.d(s)}}}function Oi(t,e,n){let{$$slots:r={},$$scope:l}=e,{cardTitle:i}=e;return t.$$set=a=>{"cardTitle"in a&&n(0,i=a.cardTitle),"$$scope"in a&&n(1,l=a.$$scope)},[i,l,r]}class Wi extends te{constructor(e){super(),ne(this,e,Oi,qi,re,{cardTitle:0})}}function Hi(t){let e,n,r,l,i;const a=t[3].default,o=ct(a,t,t[2],null);return{c(){e=E("button"),o&&o.c(),this.h()},l(s){e=N(s,"BUTTON",{class:!0});var u=x(e);o&&o.l(u),u.forEach(b),this.h()},h(){y(e,"class",n=jr(t[0])+" svelte-1x31uai"),pe(e,"flat",t[1])},m(s,u){M(s,e,u),o&&o.m(e,null),r=!0,l||(i=ge(e,"click",t[4]),l=!0)},p(s,[u]){o&&o.p&&(!r||u&4)&&ht(o,a,s,s[2],r?gt(a,s[2],u,null):dt(s[2]),null),(!r||u&1&&n!==(n=jr(s[0])+" svelte-1x31uai"))&&y(e,"class",n),(!r||u&3)&&pe(e,"flat",s[1])},i(s){r||(P(o,s),r=!0)},o(s){R(o,s),r=!1},d(s){s&&b(e),o&&o.d(s),l=!1,i()}}}function Vi(t,e,n){let{$$slots:r={},$$scope:l}=e,{type:i="primary"}=e,{flat:a=!0}=e;function o(s){cr.call(this,t,s)}return t.$$set=s=>{"type"in s&&n(0,i=s.type),"flat"in s&&n(1,a=s.flat),"$$scope"in s&&n(2,l=s.$$scope)},[i,a,l,r,o]}class mt extends te{constructor(e){super(),ne(this,e,Vi,Hi,re,{type:0,flat:1})}}const Lt=t=>{let e=Array(12).fill(-1),n=Array.from({length:12},(r,l)=>l+1);return{id:t,name:"Plate "+t,maxWell:e,colNames:n,added:!1}},xe=j([Lt(1)]),rr=j(1),We=j(-1),Ve=[Lt(3),Lt(2),Lt(1)];Ve[1].maxWell=[-1,4,4,3,4,3,5,6,5,5,6,-1];Ve[1].colNames=["Neg"].concat(Array(5).fill("A"),Array(5).fill("B"),["Neg"]);Ve[1].added=!0;Ve[2].maxWell=[-1,2,2,2,3,2,4,4,4,5,4,-1];Ve[2].colNames=["Neg"].concat(Array(5).fill("C"),Array(5).fill("D"),["Neg"]);Ve[2].added=!0;function Cr(t,e,n){const r=t.slice();return r[6]=e[n],r[8]=n,r}function Lr(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function qr(t,e,n){const r=t.slice();return r[12]=e[n],r}function Or(t){let e,n=t[12]+"",r;return{c(){e=E("td"),r=S(n),this.h()},l(l){e=N(l,"TD",{class:!0});var i=x(e);r=A(i,n),i.forEach(b),this.h()},h(){y(e,"class","svelte-1oiezpb")},m(l,i){M(l,e,i),k(e,r)},p:J,d(l){l&&b(e)}}}function Wr(t){let e,n,r;function l(){return t[4](t[11],t[8])}return n=new Li({props:{selected:t[8]<=t[9],added:t[0].added}}),n.$on("click",l),{c(){e=E("td"),F(n.$$.fragment),this.h()},l(i){e=N(i,"TD",{class:!0});var a=x(e);G(n.$$.fragment,a),a.forEach(b),this.h()},h(){y(e,"class","svelte-1oiezpb")},m(i,a){M(i,e,a),U(n,e,null),r=!0},p(i,a){t=i;const o={};a&1&&(o.selected=t[8]<=t[9]),a&1&&(o.added=t[0].added),n.$set(o)},i(i){r||(P(n.$$.fragment,i),r=!0)},o(i){R(n.$$.fragment,i),r=!1},d(i){i&&b(e),Y(n)}}}function Hr(t){let e,n,r=t[6]+"",l,i,a,o,s=t[0].maxWell,u=[];for(let c=0;c<s.length;c+=1)u[c]=Wr(Lr(t,s,c));const f=c=>R(u[c],1,1,()=>{u[c]=null});return{c(){e=E("tr"),n=E("td"),l=S(r),i=C();for(let c=0;c<u.length;c+=1)u[c].c();a=C(),this.h()},l(c){e=N(c,"TR",{});var d=x(e);n=N(d,"TD",{class:!0});var g=x(n);l=A(g,r),g.forEach(b),i=L(d);for(let h=0;h<u.length;h+=1)u[h].l(d);a=L(d),d.forEach(b),this.h()},h(){y(n,"class","svelte-1oiezpb")},m(c,d){M(c,e,d),k(e,n),k(n,l),k(e,i);for(let g=0;g<u.length;g+=1)u[g].m(e,null);k(e,a),o=!0},p(c,d){if(d&9){s=c[0].maxWell;let g;for(g=0;g<s.length;g+=1){const h=Lr(c,s,g);u[g]?(u[g].p(h,d),P(u[g],1)):(u[g]=Wr(h),u[g].c(),P(u[g],1),u[g].m(e,a))}for(Pe(),g=s.length;g<u.length;g+=1)f(g);Re()}},i(c){if(!o){for(let d=0;d<s.length;d+=1)P(u[d]);o=!0}},o(c){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)R(u[d]);o=!1},d(c){c&&b(e),De(u,c)}}}function Bi(t){let e,n,r,l,i,a,o=t[2],s=[];for(let d=0;d<o.length;d+=1)s[d]=Or(qr(t,o,d));let u=t[1],f=[];for(let d=0;d<u.length;d+=1)f[d]=Hr(Cr(t,u,d));const c=d=>R(f[d],1,1,()=>{f[d]=null});return{c(){e=E("table"),n=E("tr"),r=E("td"),l=C();for(let d=0;d<s.length;d+=1)s[d].c();i=C();for(let d=0;d<f.length;d+=1)f[d].c();this.h()},l(d){e=N(d,"TABLE",{class:!0});var g=x(e);n=N(g,"TR",{});var h=x(n);r=N(h,"TD",{class:!0}),x(r).forEach(b),l=L(h);for(let m=0;m<s.length;m+=1)s[m].l(h);h.forEach(b),i=L(g);for(let m=0;m<f.length;m+=1)f[m].l(g);g.forEach(b),this.h()},h(){y(r,"class","svelte-1oiezpb"),y(e,"class","svelte-1oiezpb")},m(d,g){M(d,e,g),k(e,n),k(n,r),k(n,l);for(let h=0;h<s.length;h+=1)s[h].m(n,null);k(e,i);for(let h=0;h<f.length;h+=1)f[h].m(e,null);a=!0},p(d,[g]){if(g&4){o=d[2];let h;for(h=0;h<o.length;h+=1){const m=qr(d,o,h);s[h]?s[h].p(m,g):(s[h]=Or(m),s[h].c(),s[h].m(n,null))}for(;h<s.length;h+=1)s[h].d(1);s.length=o.length}if(g&11){u=d[1];let h;for(h=0;h<u.length;h+=1){const m=Cr(d,u,h);f[h]?(f[h].p(m,g),P(f[h],1)):(f[h]=Hr(m),f[h].c(),P(f[h],1),f[h].m(e,null))}for(Pe(),h=u.length;h<f.length;h+=1)c(h);Re()}},i(d){if(!a){for(let g=0;g<u.length;g+=1)P(f[g]);a=!0}},o(d){f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)R(f[g]);a=!1},d(d){d&&b(e),De(s,d),De(f,d)}}}function Fi(t,e,n){let{plate:r}=e;r.maxWell.length;let l=["A","B","C","D","E","F","G","H"],i=Array.from({length:12},(s,u)=>u+1);const a=(s,u,f)=>{r.added||(r.maxWell[u]==f?n(0,r.maxWell[u]=-1,r):n(0,r.maxWell[u]=f,r),xe.update(c=>{let d=[...c];return d.find(g=>g.id===s),d}))},o=(s,u)=>a(r.id,s,u);return t.$$set=s=>{"plate"in s&&n(0,r=s.plate)},[r,l,i,a,o]}class gr extends te{constructor(e){super(),ne(this,e,Fi,Bi,re,{plate:0})}}function Gi(t){let e;return{c(){e=S("Delete")},l(n){e=A(n,"Delete")},m(n,r){M(n,e,r)},d(n){n&&b(e)}}}function Ui(t){let e;return{c(){e=S("Edit")},l(n){e=A(n,"Edit")},m(n,r){M(n,e,r)},d(n){n&&b(e)}}}function Yi(t){let e,n,r,l,i,a,o,s,u;return e=new gr({props:{plate:t[0]}}),i=new mt({props:{type:"primary",$$slots:{default:[Gi]},$$scope:{ctx:t}}}),i.$on("click",t[3]),s=new mt({props:{type:"secondary",$$slots:{default:[Ui]},$$scope:{ctx:t}}}),s.$on("click",t[4]),{c(){F(e.$$.fragment),n=C(),r=E("div"),l=E("div"),F(i.$$.fragment),a=C(),o=E("div"),F(s.$$.fragment),this.h()},l(f){G(e.$$.fragment,f),n=L(f),r=N(f,"DIV",{class:!0});var c=x(r);l=N(c,"DIV",{class:!0});var d=x(l);G(i.$$.fragment,d),d.forEach(b),a=L(c),o=N(c,"DIV",{class:!0});var g=x(o);G(s.$$.fragment,g),g.forEach(b),c.forEach(b),this.h()},h(){y(l,"class","absolute bottom-0 right-0"),y(o,"class","absolute bottom-0 left-0"),y(r,"class","button-footer relative svelte-x2uown")},m(f,c){U(e,f,c),M(f,n,c),M(f,r,c),k(r,l),U(i,l,null),k(r,a),k(r,o),U(s,o,null),u=!0},p(f,c){const d={};c&1&&(d.plate=f[0]),e.$set(d);const g={};c&64&&(g.$$scope={dirty:c,ctx:f}),i.$set(g);const h={};c&64&&(h.$$scope={dirty:c,ctx:f}),s.$set(h)},i(f){u||(P(e.$$.fragment,f),P(i.$$.fragment,f),P(s.$$.fragment,f),u=!0)},o(f){R(e.$$.fragment,f),R(i.$$.fragment,f),R(s.$$.fragment,f),u=!1},d(f){Y(e,f),f&&b(n),f&&b(r),Y(i),Y(s)}}}function Xi(t){let e,n;return e=new Wi({props:{cardTitle:t[0].name,$$slots:{default:[Yi]},$$scope:{ctx:t}}}),{c(){F(e.$$.fragment)},l(r){G(e.$$.fragment,r)},m(r,l){U(e,r,l),n=!0},p(r,[l]){const i={};l&1&&(i.cardTitle=r[0].name),l&65&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Ki(t,e,n){let{plate:r}=e,l=Wn();const i=u=>{xe.update(f=>f.filter(c=>c.id!=u))},a=u=>{We.set(u.id),l("edit",{plate:u})},o=()=>i(r.id),s=()=>a(r);return t.$$set=u=>{"plate"in u&&n(0,r=u.plate)},[r,i,a,o,s]}class Zi extends te{constructor(e){super(),ne(this,e,Ki,Xi,re,{plate:0})}}function Xl(t){const e=t-1;return e*e*e+1}function Ji(t,{delay:e=0,duration:n=400,easing:r=Mi}={}){const l=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:i=>`opacity: ${i*l}`}}function Qi(t,{delay:e=0,duration:n=400,easing:r=Xl,start:l=0,opacity:i=0}={}){const a=getComputedStyle(t),o=+a.opacity,s=a.transform==="none"?"":a.transform,u=1-l,f=o*(1-i);return{delay:e,duration:n,easing:r,css:(c,d)=>`
			transform: ${s} scale(${1-u*d});
			opacity: ${o-f*d}
		`}}function $i(t,{from:e,to:n},r={}){const l=getComputedStyle(t),i=l.transform==="none"?"":l.transform,[a,o]=l.transformOrigin.split(" ").map(parseFloat),s=e.left+e.width*a/n.width-(n.left+a),u=e.top+e.height*o/n.height-(n.top+o),{delay:f=0,duration:c=g=>Math.sqrt(g)*120,easing:d=Xl}=r;return{delay:f,duration:Ei(c)?c(Math.sqrt(s*s+u*u)):c,easing:d,css:(g,h)=>{const m=h*s,p=h*u,v=g+h*e.width/n.width,w=g+h*e.height/n.height;return`transform: ${i} translate(${m}px, ${p}px) scale(${v}, ${w});`}}}function Vr(t,e,n){const r=t.slice();return r[6]=e[n],r}function Br(t){let e,n;return e=new Zi({props:{plate:t[6]}}),e.$on("edit",t[4]),{c(){F(e.$$.fragment)},l(r){G(e.$$.fragment,r)},m(r,l){U(e,r,l),n=!0},p(r,l){const i={};l&1&&(i.plate=r[6]),e.$set(i)},i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Fr(t,e){let n,r,l,i,a,o=J,s,u=e[6].added&&Br(e);return{key:t,first:null,c(){n=E("div"),u&&u.c(),r=C(),this.h()},l(f){n=N(f,"DIV",{});var c=x(n);u&&u.l(c),r=L(c),c.forEach(b),this.h()},h(){this.first=n},m(f,c){M(f,n,c),u&&u.m(n,null),k(n,r),s=!0},p(f,c){e=f,e[6].added?u?(u.p(e,c),c&1&&P(u,1)):(u=Br(e),u.c(),P(u,1),u.m(n,r)):u&&(Pe(),R(u,1,1,()=>{u=null}),Re())},r(){a=n.getBoundingClientRect()},f(){Ni(n),o(),Ti(n,a)},a(){o(),o=Pi(n,a,$i,{duration:500})},i(f){s||(P(u),Hn(()=>{i&&i.end(1),l=Ri(n,Ji,{}),l.start()}),s=!0)},o(f){R(u),l&&l.invalidate(),f&&(i=Di(n,Qi,{})),s=!1},d(f){f&&b(n),u&&u.d(),f&&i&&i.end()}}}function Gr(t){let e,n,r,l,i,a,o;return a=new mt({props:{type:"secondary",$$slots:{default:[ea]},$$scope:{ctx:t}}}),a.$on("click",t[5]),{c(){e=E("p"),n=S("Please add a plate to continue"),r=C(),l=E("br"),i=C(),F(a.$$.fragment)},l(s){e=N(s,"P",{});var u=x(e);n=A(u,"Please add a plate to continue"),u.forEach(b),r=L(s),l=N(s,"BR",{}),i=L(s),G(a.$$.fragment,s)},m(s,u){M(s,e,u),k(e,n),M(s,r,u),M(s,l,u),M(s,i,u),U(a,s,u),o=!0},p(s,u){const f={};u&512&&(f.$$scope={dirty:u,ctx:s}),a.$set(f)},i(s){o||(P(a.$$.fragment,s),o=!0)},o(s){R(a.$$.fragment,s),o=!1},d(s){s&&b(e),s&&b(r),s&&b(l),s&&b(i),Y(a,s)}}}function ea(t){let e;return{c(){e=S("Load Demo data")},l(n){e=A(n,"Load Demo data")},m(n,r){M(n,e,r)},d(n){n&&b(e)}}}function ta(t){let e,n=[],r=new Map,l,i,a,o=t[0];const s=f=>f[6].id;for(let f=0;f<o.length;f+=1){let c=Vr(t,o,f),d=s(c);r.set(d,n[f]=Fr(d,c))}let u=t[1]&&Gr(t);return{c(){e=E("div");for(let f=0;f<n.length;f+=1)n[f].c();l=C(),i=E("div"),u&&u.c(),this.h()},l(f){e=N(f,"DIV",{class:!0});var c=x(e);for(let g=0;g<n.length;g+=1)n[g].l(c);c.forEach(b),l=L(f),i=N(f,"DIV",{class:!0});var d=x(i);u&&u.l(d),d.forEach(b),this.h()},h(){y(e,"class","grid 1plate:grid-cols-1 2plate:grid-cols-2 3plate:grid-cols-3 gap-8"),y(i,"class","emptyMessage svelte-vi6p6h")},m(f,c){M(f,e,c);for(let d=0;d<n.length;d+=1)n[d].m(e,null);M(f,l,c),M(f,i,c),u&&u.m(i,null),a=!0},p(f,[c]){if(c&1){o=f[0],Pe();for(let d=0;d<n.length;d+=1)n[d].r();n=hr(n,c,s,1,f,o,r,e,Si,Fr,null,Vr);for(let d=0;d<n.length;d+=1)n[d].a();Re()}f[1]?u?(u.p(f,c),c&2&&P(u,1)):(u=Gr(f),u.c(),P(u,1),u.m(i,null)):u&&(Pe(),R(u,1,1,()=>{u=null}),Re())},i(f){if(!a){for(let c=0;c<o.length;c+=1)P(n[c]);P(u),a=!0}},o(f){for(let c=0;c<n.length;c+=1)R(n[c]);R(u),a=!1},d(f){f&&b(e);for(let c=0;c<n.length;c+=1)n[c].d();f&&b(l),f&&b(i),u&&u.d()}}}function na(t,e,n){let r,l,i;T(t,xe,u=>n(3,i=u));const a=()=>{xe.set(Ve),rr.set(3)};function o(u){cr.call(this,t,u)}const s=()=>a();return t.$$.update=()=>{t.$$.dirty&8&&n(1,r=i.length==1),t.$$.dirty&8&&n(0,l=i.slice(1).reverse())},[l,r,a,i,o,s]}class ra extends te{constructor(e){super(),ne(this,e,na,ta,re,{})}}function Ur(t,e,n){const r=t.slice();return r[4]=e[n],r}function Yr(t){let e,n,r=t[4]+"",l,i,a,o;function s(){return t[3](t[4])}return{c(){e=E("li"),n=E("div"),l=S(r),i=C(),this.h()},l(u){e=N(u,"LI",{class:!0});var f=x(e);n=N(f,"DIV",{class:!0});var c=x(n);l=A(c,r),c.forEach(b),i=L(f),f.forEach(b),this.h()},h(){y(n,"class","svelte-aio21l"),pe(n,"active",t[4]===t[1]),y(e,"class","svelte-aio21l")},m(u,f){M(u,e,f),k(e,n),k(n,l),k(e,i),a||(o=ge(e,"click",s),a=!0)},p(u,f){t=u,f&1&&r!==(r=t[4]+"")&&de(l,r),f&3&&pe(n,"active",t[4]===t[1])},d(u){u&&b(e),a=!1,o()}}}function la(t){let e,n,r=t[0],l=[];for(let i=0;i<r.length;i+=1)l[i]=Yr(Ur(t,r,i));return{c(){e=E("div"),n=E("ul");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=N(i,"DIV",{class:!0});var a=x(e);n=N(a,"UL",{class:!0});var o=x(n);for(let s=0;s<l.length;s+=1)l[s].l(o);o.forEach(b),a.forEach(b),this.h()},h(){y(n,"class","svelte-aio21l"),y(e,"class","tabs svelte-aio21l")},m(i,a){M(i,e,a),k(e,n);for(let o=0;o<l.length;o+=1)l[o].m(n,null)},p(i,[a]){if(a&7){r=i[0];let o;for(o=0;o<r.length;o+=1){const s=Ur(i,r,o);l[o]?l[o].p(s,a):(l[o]=Yr(s),l[o].c(),l[o].m(n,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=r.length}},i:J,o:J,d(i){i&&b(e),De(l,i)}}}function ia(t,e,n){let{items:r}=e,{activeItem:l}=e;const i=Wn(),a=o=>i("tabChange",{currentTab:l,newTab:o});return t.$$set=o=>{"items"in o&&n(0,r=o.items),"activeItem"in o&&n(1,l=o.activeItem)},[r,l,i,a]}class aa extends te{constructor(e){super(),ne(this,e,ia,la,re,{items:0,activeItem:1})}}function Xr(t,e,n){const r=t.slice();return r[7]=e[n],r[8]=e,r[9]=n,r}function Kr(t,e,n){const r=t.slice();return r[0]=e[n],r}function Zr(t){let e,n=t[0].name+"",r,l;return{c(){e=E("option"),r=S(n),this.h()},l(i){e=N(i,"OPTION",{});var a=x(e);r=A(a,n),a.forEach(b),this.h()},h(){e.__value=l=t[0].name,e.value=e.__value},m(i,a){M(i,e,a),k(e,r)},p(i,a){a&4&&n!==(n=i[0].name+"")&&de(r,n),a&4&&l!==(l=i[0].name)&&(e.__value=l,e.value=e.__value)},d(i){i&&b(e)}}}function Jr(t){let e,n=t[0].added===!0&&Zr(t);return{c(){n&&n.c(),e=se()},l(r){n&&n.l(r),e=se()},m(r,l){n&&n.m(r,l),M(r,e,l)},p(r,l){r[0].added===!0?n?n.p(r,l):(n=Zr(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&b(e)}}}function Qr(t){let e,n,r,l=t[9]+1+"",i,a,o,s,u,f,c;function d(){t[6].call(s,t[8],t[9])}return{c(){e=E("form"),n=E("label"),r=S("Column "),i=S(l),a=S(" Sample Name:"),o=C(),s=E("input"),u=C(),this.h()},l(g){e=N(g,"FORM",{});var h=x(e);n=N(h,"LABEL",{for:!0});var m=x(n);r=A(m,"Column "),i=A(m,l),a=A(m," Sample Name:"),m.forEach(b),o=L(h),s=N(h,"INPUT",{class:!0,id:!0,type:!0}),u=L(h),h.forEach(b),this.h()},h(){y(n,"for","question"),y(s,"class","appearance-none bg-gray-200 text-gray-700 border rounded py-1 px-2 leading-tight focus:outline-none focus:bg-white colinput svelte-5rwbji"),y(s,"id","question"),y(s,"type","text")},m(g,h){M(g,e,h),k(e,n),k(n,r),k(n,i),k(n,a),k(e,o),k(e,s),ke(s,t[7]),k(e,u),f||(c=ge(s,"input",d),f=!0)},p(g,h){t=g,h&1&&s.value!==t[7]&&ke(s,t[7])},d(g){g&&b(e),f=!1,c()}}}function oa(t){let e,n,r,l,i,a,o,s,u=t[2],f=[];for(let g=0;g<u.length;g+=1)f[g]=Jr(Kr(t,u,g));let c=t[0].colNames,d=[];for(let g=0;g<c.length;g+=1)d[g]=Qr(Xr(t,c,g));return{c(){e=E("div"),n=S(`Copy column labels of exiting plate:
	`),r=E("select"),l=E("option");for(let g=0;g<f.length;g+=1)f[g].c();i=C(),a=E("div");for(let g=0;g<d.length;g+=1)d[g].c();this.h()},l(g){e=N(g,"DIV",{class:!0});var h=x(e);n=A(h,`Copy column labels of exiting plate:
	`),r=N(h,"SELECT",{class:!0,name:!0,id:!0});var m=x(r);l=N(m,"OPTION",{});var p=x(l);p.forEach(b);for(let w=0;w<f.length;w+=1)f[w].l(m);m.forEach(b),h.forEach(b),i=L(g),a=N(g,"DIV",{class:!0});var v=x(a);for(let w=0;w<d.length;w+=1)d[w].l(v);v.forEach(b),this.h()},h(){l.__value="none",l.value=l.__value,l.selected=!0,l.disabled=!0,l.hidden=!0,y(r,"class","bg-gray-200 text-gray-700 border rounded py-1 px-2 leading-tight focus:outline-none focus:bg-white"),y(r,"name","plates"),y(r,"id","plates"),t[1]===void 0&&Hn(()=>t[4].call(r)),y(e,"class","CopySelect svelte-5rwbji"),y(a,"class","grid 1form:grid-cols-1 2form:grid-cols-2 3form:grid-cols-3 gap-x-8 gap-y-4")},m(g,h){M(g,e,h),k(e,n),k(e,r),k(r,l);for(let m=0;m<f.length;m+=1)f[m].m(r,null);jn(r,t[1]),M(g,i,h),M(g,a,h);for(let m=0;m<d.length;m+=1)d[m].m(a,null);o||(s=[ge(r,"change",t[4]),ge(r,"change",t[5])],o=!0)},p(g,[h]){if(h&4){u=g[2];let m;for(m=0;m<u.length;m+=1){const p=Kr(g,u,m);f[m]?f[m].p(p,h):(f[m]=Jr(p),f[m].c(),f[m].m(r,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=u.length}if(h&6&&jn(r,g[1]),h&1){c=g[0].colNames;let m;for(m=0;m<c.length;m+=1){const p=Xr(g,c,m);d[m]?d[m].p(p,h):(d[m]=Qr(p),d[m].c(),d[m].m(a,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=c.length}},i:J,o:J,d(g){g&&b(e),De(f,g),g&&b(i),g&&b(a),De(d,g),o=!1,dr(s)}}}function sa(t,e,n){let r;T(t,xe,f=>n(2,r=f));let{plate:l}=e,i;const a=f=>{const c=r.find(d=>d.name==f).colNames;n(0,l.colNames=[...c],l)};function o(){i=Ul(this),n(1,i)}const s=()=>a(i);function u(f,c){f[c]=this.value,n(0,l)}return t.$$set=f=>{"plate"in f&&n(0,l=f.plate)},[l,i,r,a,o,s,u]}class Kl extends te{constructor(e){super(),ne(this,e,sa,oa,re,{plate:0})}}function fa(t){let e;return{c(){e=S("Add Plate")},l(n){e=A(n,"Add Plate")},m(n,r){M(n,e,r)},d(n){n&&b(e)}}}function ua(t){let e,n,r,l,i,a,o,s,u,f,c,d,g;return i=new gr({props:{plate:t[0]}}),s=new mt({props:{type:"secondary",$$slots:{default:[fa]},$$scope:{ctx:t}}}),s.$on("click",t[5]),f=new Kl({props:{plate:t[0]}}),{c(){e=E("form"),n=S("Plate Name: "),r=E("input"),l=C(),F(i.$$.fragment),a=C(),o=E("div"),F(s.$$.fragment),u=C(),F(f.$$.fragment),this.h()},l(h){e=N(h,"FORM",{class:!0});var m=x(e);n=A(m,"Plate Name: "),r=N(m,"INPUT",{class:!0,id:!0,type:!0}),m.forEach(b),l=L(h),G(i.$$.fragment,h),a=L(h),o=N(h,"DIV",{class:!0});var p=x(o);G(s.$$.fragment,p),p.forEach(b),u=L(h),G(f.$$.fragment,h),this.h()},h(){y(r,"class","appearance-none bg-gray-200 text-gray-700 border rounded py-1 px-2 leading-tight focus:outline-none focus:bg-white"),y(r,"id","question"),y(r,"type","text"),y(e,"class","NameForm svelte-iqog5b"),y(o,"class","ButtonContainer svelte-iqog5b")},m(h,m){M(h,e,m),k(e,n),k(e,r),ke(r,t[0].name),M(h,l,m),U(i,h,m),M(h,a,m),M(h,o,m),U(s,o,null),M(h,u,m),U(f,h,m),c=!0,d||(g=ge(r,"input",t[4]),d=!0)},p(h,[m]){m&1&&r.value!==h[0].name&&ke(r,h[0].name);const p={};m&1&&(p.plate=h[0]),i.$set(p);const v={};m&128&&(v.$$scope={dirty:m,ctx:h}),s.$set(v);const w={};m&1&&(w.plate=h[0]),f.$set(w)},i(h){c||(P(i.$$.fragment,h),P(s.$$.fragment,h),P(f.$$.fragment,h),c=!0)},o(h){R(i.$$.fragment,h),R(s.$$.fragment,h),R(f.$$.fragment,h),c=!1},d(h){h&&b(e),h&&b(l),Y(i,h),h&&b(a),h&&b(o),Y(s),h&&b(u),Y(f,h),d=!1,g()}}}function ca(t,e,n){let r,l,i;T(t,rr,f=>n(2,l=f)),T(t,xe,f=>n(3,i=f));let a=Wn();const o=f=>{xe.update(c=>{let d=[...c],g=d.find(m=>m.id==f);return g.added=!0,d=[Lt(l+1),...d],d}),rr.update(c=>c+1),a("add")};function s(){r.name=this.value,n(0,r),n(3,i),n(2,l)}const u=()=>o(r.id);return t.$$.update=()=>{t.$$.dirty&12&&n(0,r=i.find(f=>f.id==l))},[r,o,l,i,s,u]}class ha extends te{constructor(e){super(),ne(this,e,ca,ua,re,{})}}function $r(t,e,n){const r=t.slice();return r[11]=e[n],r}function da(t){let e,n,r,l,i,a=t[2],o=[];for(let s=0;s<a.length;s+=1)o[s]=tl($r(t,a,s));return{c(){e=S(`Plate to edit:
	`),n=E("select"),r=E("option");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){e=A(s,`Plate to edit:
	`),n=N(s,"SELECT",{class:!0,name:!0,id:!0});var u=x(n);r=N(u,"OPTION",{});var f=x(r);f.forEach(b);for(let c=0;c<o.length;c+=1)o[c].l(u);u.forEach(b),this.h()},h(){r.__value="none",r.value=r.__value,r.selected=!0,r.disabled=!0,r.hidden=!0,y(n,"class","bg-gray-200 text-gray-700 border rounded py-1 px-2 leading-tight focus:outline-none focus:bg-white"),y(n,"name","plates"),y(n,"id","plates"),t[1]===void 0&&Hn(()=>t[7].call(n))},m(s,u){M(s,e,u),M(s,n,u),k(n,r);for(let f=0;f<o.length;f+=1)o[f].m(n,null);jn(n,t[1]),l||(i=[ge(n,"change",t[7]),ge(n,"change",t[8])],l=!0)},p(s,u){if(u&4){a=s[2];let f;for(f=0;f<a.length;f+=1){const c=$r(s,a,f);o[f]?o[f].p(c,u):(o[f]=tl(c),o[f].c(),o[f].m(n,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=a.length}u&6&&jn(n,s[1])},i:J,o:J,d(s){s&&b(e),s&&b(n),De(o,s),l=!1,dr(i)}}}function ga(t){let e,n,r,l,i,a,o,s,u,f,c,d,g;return i=new gr({props:{plate:t[0]}}),s=new mt({props:{type:"secondary",$$slots:{default:[ma]},$$scope:{ctx:t}}}),s.$on("click",t[6]),f=new Kl({props:{plate:t[0]}}),{c(){e=E("form"),n=S("Plate Name: "),r=E("input"),l=C(),F(i.$$.fragment),a=C(),o=E("div"),F(s.$$.fragment),u=C(),F(f.$$.fragment),this.h()},l(h){e=N(h,"FORM",{class:!0});var m=x(e);n=A(m,"Plate Name: "),r=N(m,"INPUT",{class:!0,id:!0,type:!0}),m.forEach(b),l=L(h),G(i.$$.fragment,h),a=L(h),o=N(h,"DIV",{class:!0});var p=x(o);G(s.$$.fragment,p),p.forEach(b),u=L(h),G(f.$$.fragment,h),this.h()},h(){y(r,"class","appearance-none bg-gray-200 text-gray-700 border rounded py-1 px-2 leading-tight focus:outline-none focus:bg-white"),y(r,"id","question"),y(r,"type","text"),y(e,"class","NameForm svelte-1hrsnk0"),y(o,"class","ButtonContainer svelte-1hrsnk0")},m(h,m){M(h,e,m),k(e,n),k(e,r),ke(r,t[0].name),M(h,l,m),U(i,h,m),M(h,a,m),M(h,o,m),U(s,o,null),M(h,u,m),U(f,h,m),c=!0,d||(g=ge(r,"input",t[5]),d=!0)},p(h,m){m&1&&r.value!==h[0].name&&ke(r,h[0].name);const p={};m&1&&(p.plate=h[0]),i.$set(p);const v={};m&16384&&(v.$$scope={dirty:m,ctx:h}),s.$set(v);const w={};m&1&&(w.plate=h[0]),f.$set(w)},i(h){c||(P(i.$$.fragment,h),P(s.$$.fragment,h),P(f.$$.fragment,h),c=!0)},o(h){R(i.$$.fragment,h),R(s.$$.fragment,h),R(f.$$.fragment,h),c=!1},d(h){h&&b(e),h&&b(l),Y(i,h),h&&b(a),h&&b(o),Y(s),h&&b(u),Y(f,h),d=!1,g()}}}function el(t){let e,n=t[11].name+"",r,l;return{c(){e=E("option"),r=S(n),this.h()},l(i){e=N(i,"OPTION",{});var a=x(e);r=A(a,n),a.forEach(b),this.h()},h(){e.__value=l=t[11].name,e.value=e.__value},m(i,a){M(i,e,a),k(e,r)},p(i,a){a&4&&n!==(n=i[11].name+"")&&de(r,n),a&4&&l!==(l=i[11].name)&&(e.__value=l,e.value=e.__value)},d(i){i&&b(e)}}}function tl(t){let e,n=t[11].added===!0&&el(t);return{c(){n&&n.c(),e=se()},l(r){n&&n.l(r),e=se()},m(r,l){n&&n.m(r,l),M(r,e,l)},p(r,l){r[11].added===!0?n?n.p(r,l):(n=el(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&b(e)}}}function ma(t){let e;return{c(){e=S("Update Plate")},l(n){e=A(n,"Update Plate")},m(n,r){M(n,e,r)},d(n){n&&b(e)}}}function _a(t){let e,n,r,l;const i=[ga,da],a=[];function o(s,u){return s[0]!=null?0:1}return e=o(t),n=a[e]=i[e](t),{c(){n.c(),r=se()},l(s){n.l(s),r=se()},m(s,u){a[e].m(s,u),M(s,r,u),l=!0},p(s,[u]){let f=e;e=o(s),e===f?a[e].p(s,u):(Pe(),R(a[f],1,1,()=>{a[f]=null}),Re(),n=a[e],n?n.p(s,u):(n=a[e]=i[e](s),n.c()),P(n,1),n.m(r.parentNode,r))},i(s){l||(P(n),l=!0)},o(s){R(n),l=!1},d(s){a[e].d(s),s&&b(r)}}}function ya(t,e,n){let r,l;T(t,xe,h=>n(2,r=h)),T(t,We,h=>n(9,l=h));let i=Wn(),{plate:a=r.find(h=>h.id==l)}=e,o;a!=null&&(a.added=!1);const s=h=>{n(0,a=r.find(m=>m.name==h)),n(0,a.added=!1,a),We.set(a.id)},u=h=>{n(0,a.added=!0,a),We.set(-1),i("add")};function f(){a.name=this.value,n(0,a)}const c=()=>u(a.name);function d(){o=Ul(this),n(1,o)}const g=()=>s(o);return t.$$set=h=>{"plate"in h&&n(0,a=h.plate)},[a,o,r,s,u,f,c,d,g]}class ba extends te{constructor(e){super(),ne(this,e,ya,_a,re,{plate:0})}}const pa=t=>{let e=[],n=[],r;return t.forEach(l=>{if(l.added)for(var i=0;i<l.maxWell.length;i++)e.includes(l.colNames[i])?(r=n.find(a=>a.name==l.colNames[i]),r.maxWell=[l.maxWell[i],...r.maxWell]):(r={name:l.colNames[i],maxWell:[l.maxWell[i]]},e=[r.name,...e],n=[r,...n])}),n},ka=(t,e,n)=>{let r=pa(t),l=8,i=[];return r.forEach(a=>{let o=Array(l).fill(0),s=0;for(var u=0;u<o.length;u++)o[u]=s+a.maxWell.filter(v=>v<u).length,s=o[u];let f=Array(l).fill(0);s=0;for(var u=f.length-1;u>=0;u--)f[u]=s+a.maxWell.filter(w=>w>=u).length,s=f[u];let c=Array(l).fill(0);for(var u=0;u<c.length;u++)c[u]=100*f[u]/(f[u]+o[u]);let d,g,h;for(var u=0;u<c.length;u++)if(c[u]<50){d=c[u-1],g=c[u],h=u-1;break}let m=(d-50)/(d-g),p=n**(h+m)/e;isNaN(p)&&(p=0),i=[{sample:a.name,nrep:a.maxWell.length,titer:p},...i]}),i};function nl(t,e,n){const r=t.slice();return r[1]=e[n],r}function rl(t){let e,n,r,l,i,a,o,s,u,f,c,d=t[0],g=[];for(let h=0;h<d.length;h+=1)g[h]=ll(nl(t,d,h));return{c(){e=E("table"),n=E("tr"),r=E("th"),l=S("Sample"),i=C(),a=E("th"),o=S("TCID50/µL"),s=C(),u=E("th"),f=S("# Replicates"),c=C();for(let h=0;h<g.length;h+=1)g[h].c();this.h()},l(h){e=N(h,"TABLE",{class:!0});var m=x(e);n=N(m,"TR",{});var p=x(n);r=N(p,"TH",{class:!0});var v=x(r);l=A(v,"Sample"),v.forEach(b),i=L(p),a=N(p,"TH",{class:!0});var w=x(a);o=A(w,"TCID50/µL"),w.forEach(b),s=L(p),u=N(p,"TH",{class:!0});var H=x(u);f=A(H,"# Replicates"),H.forEach(b),p.forEach(b),c=L(m);for(let D=0;D<g.length;D+=1)g[D].l(m);m.forEach(b),this.h()},h(){y(r,"class","svelte-192g6u2"),y(a,"class","titer svelte-192g6u2"),y(u,"class","titer svelte-192g6u2"),y(e,"class","titer-table svelte-192g6u2")},m(h,m){M(h,e,m),k(e,n),k(n,r),k(r,l),k(n,i),k(n,a),k(a,o),k(n,s),k(n,u),k(u,f),k(e,c);for(let p=0;p<g.length;p+=1)g[p].m(e,null)},p(h,m){if(m&1){d=h[0];let p;for(p=0;p<d.length;p+=1){const v=nl(h,d,p);g[p]?g[p].p(v,m):(g[p]=ll(v),g[p].c(),g[p].m(e,null))}for(;p<g.length;p+=1)g[p].d(1);g.length=d.length}},d(h){h&&b(e),De(g,h)}}}function ll(t){let e,n,r=t[1].sample+"",l,i,a,o=t[1].titer.toFixed(2)+"",s,u,f,c=t[1].nrep+"",d,g;return{c(){e=E("tr"),n=E("td"),l=S(r),i=C(),a=E("td"),s=S(o),u=C(),f=E("td"),d=S(c),g=C(),this.h()},l(h){e=N(h,"TR",{});var m=x(e);n=N(m,"TD",{class:!0});var p=x(n);l=A(p,r),p.forEach(b),i=L(m),a=N(m,"TD",{class:!0});var v=x(a);s=A(v,o),v.forEach(b),u=L(m),f=N(m,"TD",{class:!0});var w=x(f);d=A(w,c),w.forEach(b),g=L(m),m.forEach(b),this.h()},h(){y(n,"class","svelte-192g6u2"),y(a,"class","titer svelte-192g6u2"),y(f,"class","titer svelte-192g6u2")},m(h,m){M(h,e,m),k(e,n),k(n,l),k(e,i),k(e,a),k(a,s),k(e,u),k(e,f),k(f,d),k(e,g)},p(h,m){m&1&&r!==(r=h[1].sample+"")&&de(l,r),m&1&&o!==(o=h[1].titer.toFixed(2)+"")&&de(s,o),m&1&&c!==(c=h[1].nrep+"")&&de(d,c)},d(h){h&&b(e)}}}function wa(t){let e,n=t[0].length>0&&rl(t);return{c(){n&&n.c(),e=se()},l(r){n&&n.l(r),e=se()},m(r,l){n&&n.m(r,l),M(r,e,l)},p(r,[l]){r[0].length>0?n?n.p(r,l):(n=rl(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:J,o:J,d(r){n&&n.d(r),r&&b(e)}}}function va(t,e,n){let{data:r}=e;return t.$$set=l=>{"data"in l&&n(0,r=l.data)},[r]}class xa extends te{constructor(e){super(),ne(this,e,va,wa,re,{data:0})}}function Ma(t){return t===0?!0:t}function je(t){return Ma(t)?Array.isArray(t)?e=>t.map(n=>typeof n!="function"?e[n]:n(e)):typeof t!="function"?e=>e[t]:t:null}function Ea(t){const e={};for(const n of t){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{"0":r,"1":l}=n;Object.defineProperty(e,r,{configurable:!0,enumerable:!0,writable:!0,value:l})}return e}function $n(t,e={}){return Ea(Object.entries(t).filter(([n,r])=>r!==void 0&&e[n]===void 0))}function Na(t,e,{sort:n=!1}={}){if(!Array.isArray(t))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||e===void 0||e===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const r={},l=Object.keys(e),i=l.length;let a,o,s,u,f,c,d;const g=t.length;for(a=0;a<i;a+=1){for(d=new Set,u=l[a],f=e[u],o=0;o<g;o+=1)if(c=f(t[o]),Array.isArray(c)){const m=c.length;for(s=0;s<m;s+=1)d.add(c[s])}else d.add(c);const h=Array.from(d);r[u]=n===!0?h.sort():h}return r}function Ta(t,e){if(!Array.isArray(t))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||e===void 0||e===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(e),l=r.length;let i,a,o,s,u,f,c,d;const g=t.length;for(i=0;i<l;i+=1){for(s=r[i],c=e[s],u=null,f=null,a=0;a<g;a+=1)if(d=c(t[a]),Array.isArray(d)){const h=d.length;for(o=0;o<h;o+=1)d[o]!==!1&&d[o]!==void 0&&d[o]!==null&&Number.isNaN(d[o])===!1&&((u===null||d[o]<u)&&(u=d[o]),(f===null||d[o]>f)&&(f=d[o]))}else d!==!1&&d!==void 0&&d!==null&&Number.isNaN(d)===!1&&((u===null||d<u)&&(u=d),(f===null||d>f)&&(f=d));n[s]=[u,f]}return n}function Pa(t){return typeof t.bandwidth=="function"||Ra(Object.keys(t),["domain","range","unknown","copy"])?"ordinal":"other"}function Ra(t,e){return t.length!==e.length?!1:t.every(n=>e.includes(n))}function Da(t,e,n){const r=Object.keys(n).reduce((i,a)=>{const o=Pa(n[a]);return i[o]||(i[o]={}),i[o][a]=e[a],i},{ordinal:!1,other:!1});let l={};return r.ordinal&&(l=Na(t,r.ordinal)),r.other&&(l={...l,...Ta(t,r.other)}),l}function Sa(t=[],e){return Array.isArray(e)===!0?e.map((n,r)=>n===null?t[r]:n):t}function En(t){return function([n,r]){return typeof r=="function"&&(r=r(n[t])),n?Sa(n[t],r):r}}function zn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Aa(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zl(t){let e,n,r;t.length!==2?(e=zn,n=(o,s)=>zn(t(o),s),r=(o,s)=>t(o)-s):(e=t===zn||t===Aa?t:za,n=t,r=t);function l(o,s,u=0,f=o.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(o[c],s)<0?u=c+1:f=c}while(u<f)}return u}function i(o,s,u=0,f=o.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(o[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function a(o,s,u=0,f=o.length){const c=l(o,s,u,f-1);return c>u&&r(o[c-1],s)>-r(o[c],s)?c-1:c}return{left:l,center:a,right:i}}function za(){return 0}function Ia(t){return t===null?NaN:+t}const ja=Zl(zn),Ca=ja.right;Zl(Ia).center;const La=Ca;class il extends Map{constructor(e,n=Wa){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,l]of e)this.set(r,l)}get(e){return super.get(al(this,e))}has(e){return super.has(al(this,e))}set(e,n){return super.set(qa(this,e),n)}delete(e){return super.delete(Oa(this,e))}}function al({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function qa({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Oa({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Wa(t){return t!==null&&typeof t=="object"?t.valueOf():t}var lr=Math.sqrt(50),ir=Math.sqrt(10),ar=Math.sqrt(2);function or(t,e,n){var r,l=-1,i,a,o;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),(o=Jl(t,e,n))===0||!isFinite(o))return[];if(o>0){let s=Math.round(t/o),u=Math.round(e/o);for(s*o<t&&++s,u*o>e&&--u,a=new Array(i=u-s+1);++l<i;)a[l]=(s+l)*o}else{o=-o;let s=Math.round(t*o),u=Math.round(e*o);for(s/o<t&&++s,u/o>e&&--u,a=new Array(i=u-s+1);++l<i;)a[l]=(s+l)/o}return r&&a.reverse(),a}function Jl(t,e,n){var r=(e-t)/Math.max(0,n),l=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,l);return l>=0?(i>=lr?10:i>=ir?5:i>=ar?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(i>=lr?10:i>=ir?5:i>=ar?2:1)}function Ha(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),l=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/l;return i>=lr?l*=10:i>=ir?l*=5:i>=ar&&(l*=2),e<t?-l:l}function Va(t,e,n){t=+t,e=+e,n=(l=arguments.length)<2?(e=t,t=0,1):l<3?1:+n;for(var r=-1,l=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(l);++r<l;)i[r]=t+r*n;return i}function Vt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const ol=Symbol("implicit");function Ql(){var t=new il,e=[],n=[],r=ol;function l(i){let a=t.get(i);if(a===void 0){if(r!==ol)return r;t.set(i,a=e.push(i)-1)}return n[a%n.length]}return l.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new il;for(const a of i)t.has(a)||t.set(a,e.push(a)-1);return l},l.range=function(i){return arguments.length?(n=Array.from(i),l):n.slice()},l.unknown=function(i){return arguments.length?(r=i,l):r},l.copy=function(){return Ql(e,n).unknown(r)},Vt.apply(l,arguments),l}function $l(){var t=Ql().unknown(void 0),e=t.domain,n=t.range,r=0,l=1,i,a,o=!1,s=0,u=0,f=.5;delete t.unknown;function c(){var d=e().length,g=l<r,h=g?l:r,m=g?r:l;i=(m-h)/Math.max(1,d-s+u*2),o&&(i=Math.floor(i)),h+=(m-h-i*(d-s))*f,a=i*(1-s),o&&(h=Math.round(h),a=Math.round(a));var p=Va(d).map(function(v){return h+i*v});return n(g?p.reverse():p)}return t.domain=function(d){return arguments.length?(e(d),c()):e()},t.range=function(d){return arguments.length?([r,l]=d,r=+r,l=+l,c()):[r,l]},t.rangeRound=function(d){return[r,l]=d,r=+r,l=+l,o=!0,c()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(d){return arguments.length?(o=!!d,c()):o},t.padding=function(d){return arguments.length?(s=Math.min(1,u=+d),c()):s},t.paddingInner=function(d){return arguments.length?(s=Math.min(1,d),c()):s},t.paddingOuter=function(d){return arguments.length?(u=+d,c()):u},t.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),c()):f},t.copy=function(){return $l(e(),[r,l]).round(o).paddingInner(s).paddingOuter(u).align(f)},Vt.apply(c(),arguments)}function ei(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ei(e())},t}function Ba(){return ei($l.apply(null,arguments).paddingInner(1))}function mr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ti(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Bt(){}var qt=.7,Cn=1/qt,ut="\\s*([+-]?\\d+)\\s*",Ot="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fa=/^#([0-9a-f]{3,8})$/,Ga=new RegExp(`^rgb\\(${ut},${ut},${ut}\\)$`),Ua=new RegExp(`^rgb\\(${ve},${ve},${ve}\\)$`),Ya=new RegExp(`^rgba\\(${ut},${ut},${ut},${Ot}\\)$`),Xa=new RegExp(`^rgba\\(${ve},${ve},${ve},${Ot}\\)$`),Ka=new RegExp(`^hsl\\(${Ot},${ve},${ve}\\)$`),Za=new RegExp(`^hsla\\(${Ot},${ve},${ve},${Ot}\\)$`),sl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mr(Bt,Wt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fl,formatHex:fl,formatHex8:Ja,formatHsl:Qa,formatRgb:ul,toString:ul});function fl(){return this.rgb().formatHex()}function Ja(){return this.rgb().formatHex8()}function Qa(){return ni(this).formatHsl()}function ul(){return this.rgb().formatRgb()}function Wt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Fa.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?cl(e):n===3?new ce(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Nn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Nn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ga.exec(t))?new ce(e[1],e[2],e[3],1):(e=Ua.exec(t))?new ce(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ya.exec(t))?Nn(e[1],e[2],e[3],e[4]):(e=Xa.exec(t))?Nn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ka.exec(t))?gl(e[1],e[2]/100,e[3]/100,1):(e=Za.exec(t))?gl(e[1],e[2]/100,e[3]/100,e[4]):sl.hasOwnProperty(t)?cl(sl[t]):t==="transparent"?new ce(NaN,NaN,NaN,0):null}function cl(t){return new ce(t>>16&255,t>>8&255,t&255,1)}function Nn(t,e,n,r){return r<=0&&(t=e=n=NaN),new ce(t,e,n,r)}function $a(t){return t instanceof Bt||(t=Wt(t)),t?(t=t.rgb(),new ce(t.r,t.g,t.b,t.opacity)):new ce}function sr(t,e,n,r){return arguments.length===1?$a(t):new ce(t,e,n,r??1)}function ce(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}mr(ce,sr,ti(Bt,{brighter(t){return t=t==null?Cn:Math.pow(Cn,t),new ce(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qt:Math.pow(qt,t),new ce(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ce(He(this.r),He(this.g),He(this.b),Ln(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hl,formatHex:hl,formatHex8:eo,formatRgb:dl,toString:dl}));function hl(){return`#${Oe(this.r)}${Oe(this.g)}${Oe(this.b)}`}function eo(){return`#${Oe(this.r)}${Oe(this.g)}${Oe(this.b)}${Oe((isNaN(this.opacity)?1:this.opacity)*255)}`}function dl(){const t=Ln(this.opacity);return`${t===1?"rgb(":"rgba("}${He(this.r)}, ${He(this.g)}, ${He(this.b)}${t===1?")":`, ${t})`}`}function Ln(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function He(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Oe(t){return t=He(t),(t<16?"0":"")+t.toString(16)}function gl(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new me(t,e,n,r)}function ni(t){if(t instanceof me)return new me(t.h,t.s,t.l,t.opacity);if(t instanceof Bt||(t=Wt(t)),!t)return new me;if(t instanceof me)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,l=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,o=i-l,s=(i+l)/2;return o?(e===i?a=(n-r)/o+(n<r)*6:n===i?a=(r-e)/o+2:a=(e-n)/o+4,o/=s<.5?i+l:2-i-l,a*=60):o=s>0&&s<1?0:a,new me(a,o,s,t.opacity)}function to(t,e,n,r){return arguments.length===1?ni(t):new me(t,e,n,r??1)}function me(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}mr(me,to,ti(Bt,{brighter(t){return t=t==null?Cn:Math.pow(Cn,t),new me(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qt:Math.pow(qt,t),new me(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,l=2*n-r;return new ce(er(t>=240?t-240:t+120,l,r),er(t,l,r),er(t<120?t+240:t-120,l,r),this.opacity)},clamp(){return new me(ml(this.h),Tn(this.s),Tn(this.l),Ln(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ln(this.opacity);return`${t===1?"hsl(":"hsla("}${ml(this.h)}, ${Tn(this.s)*100}%, ${Tn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ml(t){return t=(t||0)%360,t<0?t+360:t}function Tn(t){return Math.max(0,Math.min(1,t||0))}function er(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _r=t=>()=>t;function no(t,e){return function(n){return t+n*e}}function ro(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function lo(t){return(t=+t)==1?ri:function(e,n){return n-e?ro(e,n,t):_r(isNaN(e)?n:e)}}function ri(t,e){var n=e-t;return n?no(t,n):_r(isNaN(t)?e:t)}const _l=function t(e){var n=lo(e);function r(l,i){var a=n((l=sr(l)).r,(i=sr(i)).r),o=n(l.g,i.g),s=n(l.b,i.b),u=ri(l.opacity,i.opacity);return function(f){return l.r=a(f),l.g=o(f),l.b=s(f),l.opacity=u(f),l+""}}return r.gamma=t,r}(1);function io(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),l;return function(i){for(l=0;l<n;++l)r[l]=t[l]*(1-i)+e[l]*i;return r}}function ao(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function oo(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,l=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)l[a]=yr(t[a],e[a]);for(;a<n;++a)i[a]=e[a];return function(o){for(a=0;a<r;++a)i[a]=l[a](o);return i}}function so(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function qn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function fo(t,e){var n={},r={},l;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(l in e)l in t?n[l]=yr(t[l],e[l]):r[l]=e[l];return function(i){for(l in n)r[l]=n[l](i);return r}}var fr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tr=new RegExp(fr.source,"g");function uo(t){return function(){return t}}function co(t){return function(e){return t(e)+""}}function ho(t,e){var n=fr.lastIndex=tr.lastIndex=0,r,l,i,a=-1,o=[],s=[];for(t=t+"",e=e+"";(r=fr.exec(t))&&(l=tr.exec(e));)(i=l.index)>n&&(i=e.slice(n,i),o[a]?o[a]+=i:o[++a]=i),(r=r[0])===(l=l[0])?o[a]?o[a]+=l:o[++a]=l:(o[++a]=null,s.push({i:a,x:qn(r,l)})),n=tr.lastIndex;return n<e.length&&(i=e.slice(n),o[a]?o[a]+=i:o[++a]=i),o.length<2?s[0]?co(s[0].x):uo(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)o[(c=s[f]).i]=c.x(u);return o.join("")})}function yr(t,e){var n=typeof e,r;return e==null||n==="boolean"?_r(e):(n==="number"?qn:n==="string"?(r=Wt(e))?(e=r,_l):ho:e instanceof Wt?_l:e instanceof Date?so:ao(e)?io:Array.isArray(e)?oo:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?fo:qn)(t,e)}function go(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function mo(t){return function(){return t}}function _o(t){return+t}var yl=[0,1];function we(t){return t}function ur(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:mo(isNaN(e)?NaN:.5)}function yo(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function bo(t,e,n){var r=t[0],l=t[1],i=e[0],a=e[1];return l<r?(r=ur(l,r),i=n(a,i)):(r=ur(r,l),i=n(i,a)),function(o){return i(r(o))}}function po(t,e,n){var r=Math.min(t.length,e.length)-1,l=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)l[a]=ur(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(o){var s=La(t,o,1,r)-1;return i[s](l[s](o))}}function br(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pr(){var t=yl,e=yl,n=yr,r,l,i,a=we,o,s,u;function f(){var d=Math.min(t.length,e.length);return a!==we&&(a=yo(t[0],t[d-1])),o=d>2?po:bo,s=u=null,c}function c(d){return d==null||isNaN(d=+d)?i:(s||(s=o(t.map(r),e,n)))(r(a(d)))}return c.invert=function(d){return a(l((u||(u=o(e,t.map(r),qn)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,_o),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=go,f()},c.clamp=function(d){return arguments.length?(a=d?!0:we,f()):a!==we},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(i=d,c):i},function(d,g){return r=d,l=g,f()}}function ko(){return pr()(we,we)}function wo(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function On(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function _t(t){return t=On(Math.abs(t)),t?t[1]:NaN}function vo(t,e){return function(n,r){for(var l=n.length,i=[],a=0,o=t[0],s=0;l>0&&o>0&&(s+o+1>r&&(o=Math.max(1,r-s)),i.push(n.substring(l-=o,l+o)),!((s+=o+1)>r));)o=t[a=(a+1)%t.length];return i.reverse().join(e)}}function xo(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Mo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ht(t){if(!(e=Mo.exec(t)))throw new Error("invalid format: "+t);var e;return new kr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ht.prototype=kr.prototype;function kr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}kr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Eo(t){e:for(var e=t.length,n=1,r=-1,l;n<e;++n)switch(t[n]){case".":r=l=n;break;case"0":r===0&&(r=n),l=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(l+1):t}var li;function No(t,e){var n=On(t,e);if(!n)return t+"";var r=n[0],l=n[1],i=l-(li=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+On(t,Math.max(0,e+i-1))[0]}function bl(t,e){var n=On(t,e);if(!n)return t+"";var r=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+r:r.length>l+1?r.slice(0,l+1)+"."+r.slice(l+1):r+new Array(l-r.length+2).join("0")}const pl={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wo,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>bl(t*100,e),r:bl,s:No,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function kl(t){return t}var wl=Array.prototype.map,vl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function To(t){var e=t.grouping===void 0||t.thousands===void 0?kl:vo(wl.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",l=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?kl:xo(wl.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Ht(c);var d=c.fill,g=c.align,h=c.sign,m=c.symbol,p=c.zero,v=c.width,w=c.comma,H=c.precision,D=c.trim,K=c.type;K==="n"?(w=!0,K="g"):pl[K]||(H===void 0&&(H=12),D=!0,K="g"),(p||d==="0"&&g==="=")&&(p=!0,d="0",g="=");var fe=m==="$"?n:m==="#"&&/[boxX]/.test(K)?"0"+K.toLowerCase():"",z=m==="$"?r:/[%p]/.test(K)?a:"",_e=pl[K],ue=/[defgprs%]/.test(K);H=H===void 0?6:/[gprs]/.test(K)?Math.max(1,Math.min(21,H)):Math.max(0,Math.min(20,H));function ye(I){var oe=fe,Q=z,he,V,X;if(K==="c")Q=_e(I)+Q,I="";else{I=+I;var W=I<0||1/I<0;if(I=isNaN(I)?s:_e(Math.abs(I),H),D&&(I=Eo(I)),W&&+I==0&&h!=="+"&&(W=!1),oe=(W?h==="("?h:o:h==="-"||h==="("?"":h)+oe,Q=(K==="s"?vl[8+li/3]:"")+Q+(W&&h==="("?")":""),ue){for(he=-1,V=I.length;++he<V;)if(X=I.charCodeAt(he),48>X||X>57){Q=(X===46?l+I.slice(he+1):I.slice(he))+Q,I=I.slice(0,he);break}}}w&&!p&&(I=e(I,1/0));var O=oe.length+I.length+Q.length,ee=O<v?new Array(v-O+1).join(d):"";switch(w&&p&&(I=e(ee+I,ee.length?v-Q.length:1/0),ee=""),g){case"<":I=oe+I+Q+ee;break;case"=":I=oe+ee+I+Q;break;case"^":I=ee.slice(0,O=ee.length>>1)+oe+I+Q+ee.slice(O);break;default:I=ee+oe+I+Q;break}return i(I)}return ye.toString=function(){return c+""},ye}function f(c,d){var g=u((c=Ht(c),c.type="f",c)),h=Math.max(-8,Math.min(8,Math.floor(_t(d)/3)))*3,m=Math.pow(10,-h),p=vl[8+h/3];return function(v){return g(m*v)+p}}return{format:u,formatPrefix:f}}var Pn,wr,ii;Po({thousands:",",grouping:[3],currency:["$",""]});function Po(t){return Pn=To(t),wr=Pn.format,ii=Pn.formatPrefix,Pn}function Ro(t){return Math.max(0,-_t(Math.abs(t)))}function Do(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_t(e)/3)))*3-_t(Math.abs(t)))}function So(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_t(e)-_t(t))+1}function Ao(t,e,n,r){var l=Ha(t,e,n),i;switch(r=Ht(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=Do(l,a))&&(r.precision=i),ii(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=So(l,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Ro(l))&&(r.precision=i-(r.type==="%")*2);break}}return wr(r)}function ai(t){var e=t.domain;return t.ticks=function(n){var r=e();return or(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var l=e();return Ao(l[0],l[l.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),l=0,i=r.length-1,a=r[l],o=r[i],s,u,f=10;for(o<a&&(u=a,a=o,o=u,u=l,l=i,i=u);f-- >0;){if(u=Jl(a,o,n),u===s)return r[l]=a,r[i]=o,e(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;s=u}return t},t}function In(){var t=ko();return t.copy=function(){return br(t,In())},Vt.apply(t,arguments),ai(t)}function zo(t,e){t=t.slice();var n=0,r=t.length-1,l=t[n],i=t[r],a;return i<l&&(a=n,n=r,r=a,a=l,l=i,i=a),t[n]=e.floor(l),t[r]=e.ceil(i),t}function xl(t){return Math.log(t)}function Ml(t){return Math.exp(t)}function Io(t){return-Math.log(-t)}function jo(t){return-Math.exp(-t)}function Co(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Lo(t){return t===10?Co:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qo(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function El(t){return(e,n)=>-t(-e,n)}function Oo(t){const e=t(xl,Ml),n=e.domain;let r=10,l,i;function a(){return l=qo(r),i=Lo(r),n()[0]<0?(l=El(l),i=El(i),t(Io,jo)):t(xl,Ml),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const s=n();let u=s[0],f=s[s.length-1];const c=f<u;c&&([u,f]=[f,u]);let d=l(u),g=l(f),h,m;const p=o==null?10:+o;let v=[];if(!(r%1)&&g-d<p){if(d=Math.floor(d),g=Math.ceil(g),u>0){for(;d<=g;++d)for(h=1;h<r;++h)if(m=d<0?h/i(-d):h*i(d),!(m<u)){if(m>f)break;v.push(m)}}else for(;d<=g;++d)for(h=r-1;h>=1;--h)if(m=d>0?h/i(-d):h*i(d),!(m<u)){if(m>f)break;v.push(m)}v.length*2<p&&(v=or(u,f,p))}else v=or(d,g,Math.min(g-d,p)).map(i);return c?v.reverse():v},e.tickFormat=(o,s)=>{if(o==null&&(o=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=Ht(s)).precision==null&&(s.trim=!0),s=wr(s)),o===1/0)return s;const u=Math.max(1,r*o/e.ticks().length);return f=>{let c=f/i(Math.round(l(f)));return c*r<r-.5&&(c*=r),c<=u?s(f):""}},e.nice=()=>n(zo(n(),{floor:o=>i(Math.floor(l(o))),ceil:o=>i(Math.ceil(l(o)))})),e}function oi(){const t=Oo(pr()).domain([1,10]);return t.copy=()=>br(t,oi()).base(t.base()),Vt.apply(t,arguments),t}function Nl(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Wo(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ho(t){return t<0?-t*t:t*t}function Vo(t){var e=t(we,we),n=1;function r(){return n===1?t(we,we):n===.5?t(Wo,Ho):t(Nl(n),Nl(1/n))}return e.exponent=function(l){return arguments.length?(n=+l,r()):n},ai(e)}function si(){var t=Vo(pr());return t.copy=function(){return br(t,si()).exponent(t.exponent())},Vt.apply(t,arguments),t}function Bo(){return si.apply(null,arguments).exponent(.5)}const Ct={x:In,y:In,z:In,r:Bo};function Fo(t){return t.constant?"symlog":t.base?"log":t.exponent?t.exponent()===.5?"sqrt":"pow":"other"}function Tl(t){return t}function Go(t){return e=>Math.log(t*e)}function Uo(t){return e=>t*Math.exp(e)}function Yo(t){return e=>Math.sign(e)*Math.log1p(Math.abs(e/t))}function Xo(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function Rn(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Ko(t){const e=Fo(t);if(e==="log"){const n=Math.sign(t.domain()[0]);return{lift:Go(n),ground:Uo(n),scaleType:e}}return e==="pow"?{lift:Rn(1),ground:Rn(1/1),scaleType:e}:e==="sqrt"?{lift:Rn(.5),ground:Rn(1/.5),scaleType:e}:e==="symlog"?{lift:Yo(1),ground:Xo(1),scaleType:e}:{lift:Tl,ground:Tl,scaleType:e}}function Zo(t,e){if(typeof t.range!="function")throw new Error("Scale method `range` must be a function");if(typeof t.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e))return t.domain();t.domain().length!==2&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),t.range().length!==2&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:n,ground:r}=Ko(t),l=t.domain()[0],i=Object.prototype.toString.call(l)==="[object Date]",[a,o]=t.domain().map(g=>n(i?g.getTime():g)),[s,u]=t.range(),f=e[0]||0,c=e[1]||0,d=(o-a)/(Math.abs(u-s)-f-c);return[a-f*d,c*d+o].map(g=>r(i?new Date(g):g))}function Jo(t,e,n,r,l){let i,a;return l===!0?(i=0,a=100):(i=t==="r"?1:0,a=t==="y"?n:t==="r"?25:e),r===!0?[a,i]:[i,a]}function Qo(t,e,n,r,l,i){return l?typeof l=="function"?l({width:e,height:n}):l:Jo(t,e,n,r,i)}function Dn(t){return function([n,r,l,i,a,o,s,u,f,c]){if(r===null)return null;const d=Qo(t,s,u,o,f,c),g=n===Ct[t]?n():n.copy();return g.domain(l),(!g.interpolator||typeof g.interpolator=="function"&&g.interpolator().name.startsWith("identity"))&&g.range(d),i&&g.domain(Zo(g,i)),(a===!0||typeof a=="number")&&(typeof g.nice=="function"?g.nice(typeof a=="number"?a:void 0):console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),g}}function Sn([t,e]){return n=>{const r=t(n);return Array.isArray(r)?r.map(l=>e(l)):e(r)}}function An([t]){if(typeof t=="function"){if(typeof t.range=="function")return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const $o=t=>({element:t[0]&4,width:t[0]&256,height:t[0]&512,aspectRatio:t[0]&1024,containerWidth:t[0]&128,containerHeight:t[0]&64}),Pl=t=>({element:t[2],width:t[8],height:t[9],aspectRatio:t[10],containerWidth:t[7],containerHeight:t[6]});function Rl(t){let e,n,r;const l=t[90].default,i=ct(l,t,t[89],Pl);return{c(){e=E("div"),i&&i.c(),this.h()},l(a){e=N(a,"DIV",{class:!0});var o=x(e);i&&i.l(o),o.forEach(b),this.h()},h(){y(e,"class","layercake-container svelte-1ll0j6t"),Hn(()=>t[92].call(e)),$(e,"position",t[5]),$(e,"top",t[5]==="absolute"?"0":null),$(e,"right",t[5]==="absolute"?"0":null),$(e,"bottom",t[5]==="absolute"?"0":null),$(e,"left",t[5]==="absolute"?"0":null),$(e,"pointer-events",t[4]===!1?"none":null)},m(a,o){M(a,e,o),i&&i.m(e,null),t[91](e),n=Ii(e,t[92].bind(e)),r=!0},p(a,o){i&&i.p&&(!r||o[0]&1988|o[2]&134217728)&&ht(i,l,a,a[89],r?gt(l,a[89],o,$o):dt(a[89]),Pl),o[0]&32&&$(e,"position",a[5]),o[0]&32&&$(e,"top",a[5]==="absolute"?"0":null),o[0]&32&&$(e,"right",a[5]==="absolute"?"0":null),o[0]&32&&$(e,"bottom",a[5]==="absolute"?"0":null),o[0]&32&&$(e,"left",a[5]==="absolute"?"0":null),o[0]&16&&$(e,"pointer-events",a[4]===!1?"none":null)},i(a){r||(P(i,a),r=!0)},o(a){R(i,a),r=!1},d(a){a&&b(e),i&&i.d(a),t[91](null),n()}}}function es(t){let e,n,r=(t[3]===!0||typeof window<"u")&&Rl(t);return{c(){r&&r.c(),e=se()},l(l){r&&r.l(l),e=se()},m(l,i){r&&r.m(l,i),M(l,e,i),n=!0},p(l,i){l[3]===!0||typeof window<"u"?r?(r.p(l,i),i[0]&8&&P(r,1)):(r=Rl(l),r.c(),P(r,1),r.m(e.parentNode,e)):r&&(Pe(),R(r,1,1,()=>{r=null}),Re())},i(l){n||(P(r),n=!0)},o(l){R(r),n=!1},d(l){r&&r.d(l),l&&b(e)}}}function ts(t,e,n){let r,l,i,a,o,s,u,f,c,d,g,h,m,p,v,w,H,D,K,fe,z,_e,ue,ye,I,oe,Q,he,V,X,W,O,ee,Me,Se,Ce,Le,Ee,yt,vr,xr,{$$slots:fi={},$$scope:Mr}=e,{ssr:Er=!1}=e,{pointerEvents:Nr=!0}=e,{position:Tr="relative"}=e,{percentRange:Ft=!1}=e,{width:Bn=void 0}=e,{height:Fn=void 0}=e,{containerWidth:Be=Bn||100}=e,{containerHeight:Fe=Fn||100}=e,{element:Gt=void 0}=e,{x:Ge=void 0}=e,{y:Ue=void 0}=e,{z:Ye=void 0}=e,{r:Xe=void 0}=e,{data:Ke=[]}=e,{xDomain:Ze=void 0}=e,{yDomain:Je=void 0}=e,{zDomain:Qe=void 0}=e,{rDomain:$e=void 0}=e,{xNice:Ut=!1}=e,{yNice:Yt=!1}=e,{zNice:Xt=!1}=e,{rNice:Kt=!1}=e,{xPadding:Zt=void 0}=e,{yPadding:Jt=void 0}=e,{zPadding:Qt=void 0}=e,{rPadding:$t=void 0}=e,{xScale:en=Ct.x}=e,{yScale:bt=Ct.y}=e,{zScale:tn=Ct.z}=e,{rScale:nn=Ct.r}=e,{xRange:et=void 0}=e,{yRange:tt=void 0}=e,{zRange:nt=void 0}=e,{rRange:rt=void 0}=e,{xReverse:rn=!1}=e,{yReverse:ln=typeof bt.bandwidth!="function"}=e,{zReverse:an=!1}=e,{rReverse:on=!1}=e,{padding:sn={}}=e,{extents:fn={}}=e,{flatData:un=void 0}=e,{custom:cn={}}=e,Gn=!1;Ai(()=>{Gn=!0});const B={},Ae=j(Ft);T(t,Ae,_=>n(128,Ee=_));const lt=j(Be);T(t,lt,_=>n(7,Le=_));const it=j(Fe);T(t,it,_=>n(6,Ce=_));const hn=j($n(fn));T(t,hn,_=>n(127,Se=_));const dn=j(Ke);T(t,dn,_=>n(126,Me=_));const pt=j(un||Ke);T(t,pt,_=>n(125,ee=_));const gn=j(sn);T(t,gn,_=>n(124,O=_));const at=j(je(Ge));T(t,at,_=>n(123,W=_));const ot=j(je(Ue));T(t,ot,_=>n(122,X=_));const st=j(je(Ye));T(t,st,_=>n(121,V=_));const ft=j(je(Xe));T(t,ft,_=>n(120,he=_));const mn=j(Ze);T(t,mn,_=>n(119,Q=_));const _n=j(Je);T(t,_n,_=>n(118,oe=_));const yn=j(Qe);T(t,yn,_=>n(117,I=_));const bn=j($e);T(t,bn,_=>n(116,ye=_));const kt=j(Ut);T(t,kt,_=>n(115,ue=_));const wt=j(Yt);T(t,wt,_=>n(114,_e=_));const vt=j(Xt);T(t,vt,_=>n(113,z=_));const xt=j(Kt);T(t,xt,_=>n(112,fe=_));const Mt=j(rn);T(t,Mt,_=>n(111,K=_));const Et=j(ln);T(t,Et,_=>n(110,D=_));const Nt=j(an);T(t,Nt,_=>n(109,H=_));const Tt=j(on);T(t,Tt,_=>n(108,w=_));const Pt=j(Zt);T(t,Pt,_=>n(107,v=_));const Rt=j(Jt);T(t,Rt,_=>n(106,p=_));const Dt=j(Qt);T(t,Dt,_=>n(105,m=_));const St=j($t);T(t,St,_=>n(104,h=_));const pn=j(et);T(t,pn,_=>n(103,g=_));const kn=j(tt);T(t,kn,_=>n(102,d=_));const wn=j(nt);T(t,wn,_=>n(101,c=_));const vn=j(rt);T(t,vn,_=>n(100,f=_));const At=j(en);T(t,At,_=>n(99,u=_));const zt=j(bt);T(t,zt,_=>n(98,s=_));const It=j(tn);T(t,It,_=>n(97,o=_));const jt=j(nn);T(t,jt,_=>n(96,a=_));const xn=j(B);T(t,xn,_=>n(94,l=_));const Mn=j(cn);T(t,Mn,_=>n(95,i=_));const Pr=Z([at,ot,st,ft],([_,Te,be,le])=>{const qe={};return _&&(qe.x=_),Te&&(qe.y=Te),be&&(qe.z=be),le&&(qe.r=le),qe}),Rr=Z([gn,lt,it],([_])=>Object.assign({top:0,right:0,bottom:0,left:0},_)),Dr=Z([lt,it,Rr],([_,Te,be])=>{const le={};return le.top=be.top,le.right=_-be.right,le.bottom=Te-be.bottom,le.left=be.left,le.width=le.right-le.left,le.height=le.bottom-le.top,le.width<=0&&Gn===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),le.height<=0&&Gn===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),le}),ze=Z([Dr],([_])=>_.width);T(t,ze,_=>n(8,yt=_));const Ie=Z([Dr],([_])=>_.height);T(t,Ie,_=>n(9,vr=_));const Ne=Z([pt,Pr,hn,At,zt,jt,It],([_,Te,be,le,qe,ki,wi])=>{const vi={x:le,y:qe,r:ki,z:wi},Jn=$n(Te,be),xi=Object.fromEntries(Object.keys(Jn).map(Qn=>[Qn,vi[Qn]]));return Object.keys(Jn).length>0?{...Da(_,Jn,xi),...be}:{}}),Sr=Z([Ne,mn],En("x")),Ar=Z([Ne,_n],En("y")),zr=Z([Ne,yn],En("z")),Ir=Z([Ne,bn],En("r")),Un=Z([At,Ne,Sr,Pt,kt,Mt,ze,Ie,pn,Ae],Dn("x")),ui=Z([at,Un],Sn),Yn=Z([zt,Ne,Ar,Rt,wt,Et,ze,Ie,kn,Ae],Dn("y")),ci=Z([ot,Yn],Sn),Xn=Z([It,Ne,zr,Dt,vt,Nt,ze,Ie,wn,Ae],Dn("z")),hi=Z([st,Xn],Sn),Kn=Z([jt,Ne,Ir,St,xt,Tt,ze,Ie,vn,Ae],Dn("r")),di=Z([ft,Kn],Sn),gi=Z([Un],An),mi=Z([Yn],An),_i=Z([Xn],An),yi=Z([Kn],An),Zn=Z([ze,Ie],([_,Te])=>_/Te);T(t,Zn,_=>n(10,xr=_));function bi(_){nr[_?"unshift":"push"](()=>{Gt=_,n(2,Gt)})}function pi(){Be=this.clientWidth,Fe=this.clientHeight,n(0,Be),n(1,Fe)}return t.$$set=_=>{"ssr"in _&&n(3,Er=_.ssr),"pointerEvents"in _&&n(4,Nr=_.pointerEvents),"position"in _&&n(5,Tr=_.position),"percentRange"in _&&n(51,Ft=_.percentRange),"width"in _&&n(52,Bn=_.width),"height"in _&&n(53,Fn=_.height),"containerWidth"in _&&n(0,Be=_.containerWidth),"containerHeight"in _&&n(1,Fe=_.containerHeight),"element"in _&&n(2,Gt=_.element),"x"in _&&n(54,Ge=_.x),"y"in _&&n(55,Ue=_.y),"z"in _&&n(56,Ye=_.z),"r"in _&&n(57,Xe=_.r),"data"in _&&n(58,Ke=_.data),"xDomain"in _&&n(59,Ze=_.xDomain),"yDomain"in _&&n(60,Je=_.yDomain),"zDomain"in _&&n(61,Qe=_.zDomain),"rDomain"in _&&n(62,$e=_.rDomain),"xNice"in _&&n(63,Ut=_.xNice),"yNice"in _&&n(64,Yt=_.yNice),"zNice"in _&&n(65,Xt=_.zNice),"rNice"in _&&n(66,Kt=_.rNice),"xPadding"in _&&n(67,Zt=_.xPadding),"yPadding"in _&&n(68,Jt=_.yPadding),"zPadding"in _&&n(69,Qt=_.zPadding),"rPadding"in _&&n(70,$t=_.rPadding),"xScale"in _&&n(71,en=_.xScale),"yScale"in _&&n(72,bt=_.yScale),"zScale"in _&&n(73,tn=_.zScale),"rScale"in _&&n(74,nn=_.rScale),"xRange"in _&&n(75,et=_.xRange),"yRange"in _&&n(76,tt=_.yRange),"zRange"in _&&n(77,nt=_.zRange),"rRange"in _&&n(78,rt=_.rRange),"xReverse"in _&&n(79,rn=_.xReverse),"yReverse"in _&&n(80,ln=_.yReverse),"zReverse"in _&&n(81,an=_.zReverse),"rReverse"in _&&n(82,on=_.rReverse),"padding"in _&&n(83,sn=_.padding),"extents"in _&&n(84,fn=_.extents),"flatData"in _&&n(85,un=_.flatData),"custom"in _&&n(86,cn=_.custom),"$$scope"in _&&n(89,Mr=_.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&8388608&&Ge&&n(87,B.x=Ge,B),t.$$.dirty[1]&16777216&&Ue&&n(87,B.y=Ue,B),t.$$.dirty[1]&33554432&&Ye&&n(87,B.z=Ye,B),t.$$.dirty[1]&67108864&&Xe&&n(87,B.r=Xe,B),t.$$.dirty[1]&268435456&&Ze&&n(87,B.xDomain=Ze,B),t.$$.dirty[1]&536870912&&Je&&n(87,B.yDomain=Je,B),t.$$.dirty[1]&1073741824&&Qe&&n(87,B.zDomain=Qe,B),t.$$.dirty[2]&1&&$e&&n(87,B.rDomain=$e,B),t.$$.dirty[2]&8192&&et&&n(87,B.xRange=et,B),t.$$.dirty[2]&16384&&tt&&n(87,B.yRange=tt,B),t.$$.dirty[2]&32768&&nt&&n(87,B.zRange=nt,B),t.$$.dirty[2]&65536&&rt&&n(87,B.rRange=rt,B),t.$$.dirty[1]&1048576&&q(Ae,Ee=Ft,Ee),t.$$.dirty[0]&1&&q(lt,Le=Be,Le),t.$$.dirty[0]&2&&q(it,Ce=Fe,Ce),t.$$.dirty[2]&4194304&&q(hn,Se=$n(fn),Se),t.$$.dirty[1]&134217728&&q(dn,Me=Ke,Me),t.$$.dirty[1]&134217728|t.$$.dirty[2]&8388608&&q(pt,ee=un||Ke,ee),t.$$.dirty[2]&2097152&&q(gn,O=sn,O),t.$$.dirty[1]&8388608&&q(at,W=je(Ge),W),t.$$.dirty[1]&16777216&&q(ot,X=je(Ue),X),t.$$.dirty[1]&33554432&&q(st,V=je(Ye),V),t.$$.dirty[1]&67108864&&q(ft,he=je(Xe),he),t.$$.dirty[1]&268435456&&q(mn,Q=Ze,Q),t.$$.dirty[1]&536870912&&q(_n,oe=Je,oe),t.$$.dirty[1]&1073741824&&q(yn,I=Qe,I),t.$$.dirty[2]&1&&q(bn,ye=$e,ye),t.$$.dirty[2]&2&&q(kt,ue=Ut,ue),t.$$.dirty[2]&4&&q(wt,_e=Yt,_e),t.$$.dirty[2]&8&&q(vt,z=Xt,z),t.$$.dirty[2]&16&&q(xt,fe=Kt,fe),t.$$.dirty[2]&131072&&q(Mt,K=rn,K),t.$$.dirty[2]&262144&&q(Et,D=ln,D),t.$$.dirty[2]&524288&&q(Nt,H=an,H),t.$$.dirty[2]&1048576&&q(Tt,w=on,w),t.$$.dirty[2]&32&&q(Pt,v=Zt,v),t.$$.dirty[2]&64&&q(Rt,p=Jt,p),t.$$.dirty[2]&128&&q(Dt,m=Qt,m),t.$$.dirty[2]&256&&q(St,h=$t,h),t.$$.dirty[2]&8192&&q(pn,g=et,g),t.$$.dirty[2]&16384&&q(kn,d=tt,d),t.$$.dirty[2]&32768&&q(wn,c=nt,c),t.$$.dirty[2]&65536&&q(vn,f=rt,f),t.$$.dirty[2]&512&&q(At,u=en,u),t.$$.dirty[2]&1024&&q(zt,s=bt,s),t.$$.dirty[2]&2048&&q(It,o=tn,o),t.$$.dirty[2]&4096&&q(jt,a=nn,a),t.$$.dirty[2]&16777216&&q(Mn,i=cn,i),t.$$.dirty[2]&33554432&&q(xn,l=B,l),t.$$.dirty[2]&67108864&&zi("LayerCake",r)},n(88,r={activeGetters:Pr,width:ze,height:Ie,percentRange:Ae,aspectRatio:Zn,containerWidth:lt,containerHeight:it,x:at,y:ot,z:st,r:ft,custom:Mn,data:dn,xNice:kt,yNice:wt,zNice:vt,rNice:xt,xReverse:Mt,yReverse:Et,zReverse:Nt,rReverse:Tt,xPadding:Pt,yPadding:Rt,zPadding:Dt,rPadding:St,padding:Rr,flatData:pt,extents:Ne,xDomain:Sr,yDomain:Ar,zDomain:zr,rDomain:Ir,xRange:gi,yRange:mi,zRange:_i,rRange:yi,config:xn,xScale:Un,xGet:ui,yScale:Yn,yGet:ci,zScale:Xn,zGet:hi,rScale:Kn,rGet:di}),[Be,Fe,Gt,Er,Nr,Tr,Ce,Le,yt,vr,xr,Ae,lt,it,hn,dn,pt,gn,at,ot,st,ft,mn,_n,yn,bn,kt,wt,vt,xt,Mt,Et,Nt,Tt,Pt,Rt,Dt,St,pn,kn,wn,vn,At,zt,It,jt,xn,Mn,ze,Ie,Zn,Ft,Bn,Fn,Ge,Ue,Ye,Xe,Ke,Ze,Je,Qe,$e,Ut,Yt,Xt,Kt,Zt,Jt,Qt,$t,en,bt,tn,nn,et,tt,nt,rt,rn,ln,an,on,sn,fn,un,cn,B,r,Mr,fi,bi,pi]}class ns extends te{constructor(e){super(),ne(this,e,ts,es,re,{ssr:3,pointerEvents:4,position:5,percentRange:51,width:52,height:53,containerWidth:0,containerHeight:1,element:2,x:54,y:55,z:56,r:57,data:58,xDomain:59,yDomain:60,zDomain:61,rDomain:62,xNice:63,yNice:64,zNice:65,rNice:66,xPadding:67,yPadding:68,zPadding:69,rPadding:70,xScale:71,yScale:72,zScale:73,rScale:74,xRange:75,yRange:76,zRange:77,rRange:78,xReverse:79,yReverse:80,zReverse:81,rReverse:82,padding:83,extents:84,flatData:85,custom:86},null,[-1,-1,-1,-1,-1])}}const rs=t=>({element:t&1}),Dl=t=>({element:t[0]}),ls=t=>({element:t&1}),Sl=t=>({element:t[0]});function is(t){let e,n,r,l,i;const a=t[12].defs,o=ct(a,t,t[11],Sl),s=t[12].default,u=ct(s,t,t[11],Dl);return{c(){e=ie("svg"),n=ie("defs"),o&&o.c(),r=ie("g"),u&&u.c(),this.h()},l(f){e=ae(f,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var c=x(e);n=ae(c,"defs",{});var d=x(n);o&&o.l(d),d.forEach(b),r=ae(c,"g",{class:!0,transform:!0});var g=x(r);u&&u.l(g),g.forEach(b),c.forEach(b),this.h()},h(){y(r,"class","layercake-layout-svg_g"),y(r,"transform",l="translate("+t[7].left+", "+t[7].top+")"),y(e,"class","layercake-layout-svg svelte-17l4rdd"),y(e,"viewBox",t[4]),y(e,"width",t[5]),y(e,"height",t[6]),$(e,"z-index",t[2]),$(e,"pointer-events",t[3]===!1?"none":null)},m(f,c){M(f,e,c),k(e,n),o&&o.m(n,null),k(e,r),u&&u.m(r,null),t[13](r),t[14](e),i=!0},p(f,[c]){o&&o.p&&(!i||c&2049)&&ht(o,a,f,f[11],i?gt(a,f[11],c,ls):dt(f[11]),Sl),u&&u.p&&(!i||c&2049)&&ht(u,s,f,f[11],i?gt(s,f[11],c,rs):dt(f[11]),Dl),(!i||c&128&&l!==(l="translate("+f[7].left+", "+f[7].top+")"))&&y(r,"transform",l),(!i||c&16)&&y(e,"viewBox",f[4]),(!i||c&32)&&y(e,"width",f[5]),(!i||c&64)&&y(e,"height",f[6]),c&4&&$(e,"z-index",f[2]),c&8&&$(e,"pointer-events",f[3]===!1?"none":null)},i(f){i||(P(o,f),P(u,f),i=!0)},o(f){R(o,f),R(u,f),i=!1},d(f){f&&b(e),o&&o.d(f),u&&u.d(f),t[13](null),t[14](null)}}}function as(t,e,n){let r,l,i,{$$slots:a={},$$scope:o}=e,{element:s=void 0}=e,{innerElement:u=void 0}=e,{zIndex:f=void 0}=e,{pointerEvents:c=void 0}=e,{viewBox:d=void 0}=e;const{containerWidth:g,containerHeight:h,padding:m}=Vn("LayerCake");T(t,g,w=>n(5,r=w)),T(t,h,w=>n(6,l=w)),T(t,m,w=>n(7,i=w));function p(w){nr[w?"unshift":"push"](()=>{u=w,n(1,u)})}function v(w){nr[w?"unshift":"push"](()=>{s=w,n(0,s)})}return t.$$set=w=>{"element"in w&&n(0,s=w.element),"innerElement"in w&&n(1,u=w.innerElement),"zIndex"in w&&n(2,f=w.zIndex),"pointerEvents"in w&&n(3,c=w.pointerEvents),"viewBox"in w&&n(4,d=w.viewBox),"$$scope"in w&&n(11,o=w.$$scope)},[s,u,f,c,d,r,l,i,g,h,m,o,a,p,v]}class Al extends te{constructor(e){super(),ne(this,e,as,is,re,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4})}}function zl(t,e,n){const r=t.slice();return r[20]=e[n],r[22]=n,r}function Il(t){let e,n;return{c(){e=ie("line"),this.h()},l(r){e=ae(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),x(e).forEach(b),this.h()},h(){y(e,"class","gridline svelte-1eat80j"),y(e,"y1",n=t[12]*-1),y(e,"y2","0"),y(e,"x1","0"),y(e,"x2","0")},m(r,l){M(r,e,l)},p(r,l){l&4096&&n!==(n=r[12]*-1)&&y(e,"y1",n)},d(r){r&&b(e)}}}function jl(t){let e,n,r;return{c(){e=ie("line"),this.h()},l(l){e=ae(l,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),x(e).forEach(b),this.h()},h(){y(e,"class","tick-mark svelte-1eat80j"),y(e,"y1",0),y(e,"y2",6),y(e,"x1",n=t[5]||t[8]?t[9].bandwidth()/2:0),y(e,"x2",r=t[5]||t[8]?t[9].bandwidth()/2:0)},m(l,i){M(l,e,i)},p(l,i){i&800&&n!==(n=l[5]||l[8]?l[9].bandwidth()/2:0)&&y(e,"x1",n),i&800&&r!==(r=l[5]||l[8]?l[9].bandwidth()/2:0)&&y(e,"x2",r)},d(l){l&&b(e)}}}function Cl(t,e){let n,r,l,i=e[4](e[20])+"",a,o,s,u,f,c=e[0]!==!1&&Il(e),d=e[1]===!0&&jl(e);return{key:t,first:null,c(){n=ie("g"),c&&c.c(),r=se(),d&&d.c(),l=ie("text"),a=S(i),this.h()},l(g){n=ae(g,"g",{class:!0,transform:!0});var h=x(n);c&&c.l(h),r=se(),d&&d.l(h),l=ae(h,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var m=x(l);a=A(m,i),m.forEach(b),h.forEach(b),this.h()},h(){y(l,"x",o=e[5]||e[8]?e[9].bandwidth()/2:0),y(l,"y",e[6]),y(l,"dx",""),y(l,"dy",""),y(l,"text-anchor",s=e[18](e[22])),y(l,"class","svelte-1eat80j"),y(n,"class",u="tick tick-"+e[22]+" svelte-1eat80j"),y(n,"transform",f="translate("+e[9](e[20])+","+Math.max(...e[11])+")"),this.first=n},m(g,h){M(g,n,h),c&&c.m(n,null),k(n,r),d&&d.m(n,null),k(n,l),k(l,a)},p(g,h){e=g,e[0]!==!1?c?c.p(e,h):(c=Il(e),c.c(),c.m(n,r)):c&&(c.d(1),c=null),e[1]===!0?d?d.p(e,h):(d=jl(e),d.c(),d.m(n,l)):d&&(d.d(1),d=null),h&1040&&i!==(i=e[4](e[20])+"")&&de(a,i),h&800&&o!==(o=e[5]||e[8]?e[9].bandwidth()/2:0)&&y(l,"x",o),h&64&&y(l,"y",e[6]),h&1024&&s!==(s=e[18](e[22]))&&y(l,"text-anchor",s),h&1024&&u!==(u="tick tick-"+e[22]+" svelte-1eat80j")&&y(n,"class",u),h&3584&&f!==(f="translate("+e[9](e[20])+","+Math.max(...e[11])+")")&&y(n,"transform",f)},d(g){g&&b(n),c&&c.d(),d&&d.d()}}}function Ll(t){let e,n,r;return{c(){e=ie("line"),this.h()},l(l){e=ae(l,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),x(e).forEach(b),this.h()},h(){y(e,"class","baseline svelte-1eat80j"),y(e,"y1",n=t[12]+.5),y(e,"y2",r=t[12]+.5),y(e,"x1","0"),y(e,"x2",t[13])},m(l,i){M(l,e,i)},p(l,i){i&4096&&n!==(n=l[12]+.5)&&y(e,"y1",n),i&4096&&r!==(r=l[12]+.5)&&y(e,"y2",r),i&8192&&y(e,"x2",l[13])},d(l){l&&b(e)}}}function os(t){let e,n,r=[],l=new Map,i,a,o,s,u,f=t[10];const c=g=>g[20];for(let g=0;g<f.length;g+=1){let h=zl(t,f,g),m=c(h);l.set(m,r[g]=Cl(m,h))}let d=t[2]===!0&&Ll(t);return{c(){e=S(`Test

`),n=ie("g");for(let g=0;g<r.length;g+=1)r[g].c();i=se(),d&&d.c(),a=ie("text"),o=S(t[7]),this.h()},l(g){e=A(g,`Test

`),n=ae(g,"g",{class:!0});var h=x(n);for(let p=0;p<r.length;p+=1)r[p].l(h);i=se(),d&&d.l(h),a=ae(h,"text",{class:!0,y:!0,x:!0});var m=x(a);o=A(m,t[7]),m.forEach(b),h.forEach(b),this.h()},h(){y(a,"class","axis-label svelte-1eat80j"),y(a,"y",s=t[12]+35),y(a,"x",u=t[13]/2),y(n,"class","axis x-axis svelte-1eat80j"),pe(n,"snapTicks",t[3])},m(g,h){M(g,e,h),M(g,n,h);for(let m=0;m<r.length;m+=1)r[m].m(n,null);k(n,i),d&&d.m(n,null),k(n,a),k(a,o)},p(g,[h]){h&270195&&(f=g[10],r=hr(r,h,c,1,g,f,l,n,Yl,Cl,i,zl)),g[2]===!0?d?d.p(g,h):(d=Ll(g),d.c(),d.m(n,a)):d&&(d.d(1),d=null),h&128&&de(o,g[7]),h&4096&&s!==(s=g[12]+35)&&y(a,"y",s),h&8192&&u!==(u=g[13]/2)&&y(a,"x",u),h&8&&pe(n,"snapTicks",g[3])},i:J,o:J,d(g){g&&b(e),g&&b(n);for(let h=0;h<r.length;h+=1)r[h].d();d&&d.d()}}}function ss(t,e,n){let r,l,i,a,o,s;const{width:u,height:f,xScale:c,yRange:d}=Vn("LayerCake");T(t,u,z=>n(13,s=z)),T(t,f,z=>n(12,o=z)),T(t,c,z=>n(9,i=z)),T(t,d,z=>n(11,a=z));let{gridlines:g=!0}=e,{tickMarks:h=!1}=e,{baseline:m=!1}=e,{snapTicks:p=!1}=e,{formatTick:v=z=>z}=e,{ticks:w=void 0}=e,{xTick:H=0}=e,{yTick:D=16}=e,{xAxisTitle:K=""}=e;function fe(z){if(p===!0){if(z===0)return"start";if(z===l.length-1)return"end"}return"middle"}return t.$$set=z=>{"gridlines"in z&&n(0,g=z.gridlines),"tickMarks"in z&&n(1,h=z.tickMarks),"baseline"in z&&n(2,m=z.baseline),"snapTicks"in z&&n(3,p=z.snapTicks),"formatTick"in z&&n(4,v=z.formatTick),"ticks"in z&&n(19,w=z.ticks),"xTick"in z&&n(5,H=z.xTick),"yTick"in z&&n(6,D=z.yTick),"xAxisTitle"in z&&n(7,K=z.xAxisTitle)},t.$$.update=()=>{t.$$.dirty&512&&n(8,r=typeof i.bandwidth=="function"),t.$$.dirty&525056&&n(10,l=Array.isArray(w)?w:r?i.domain():typeof w=="function"?w(i.ticks()):i.ticks(w))},[g,h,m,p,v,H,D,K,r,i,l,a,o,s,u,f,c,d,fe,w]}class fs extends te{constructor(e){super(),ne(this,e,ss,os,re,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,formatTick:4,ticks:19,xTick:5,yTick:6,xAxisTitle:7})}}function ql(t,e,n){const r=t.slice();return r[17]=e[n],r}function Ol(t){let e,n,r;return{c(){e=ie("line"),this.h()},l(l){e=ae(l,"line",{class:!0,x2:!0,y1:!0,y2:!0}),x(e).forEach(b),this.h()},h(){y(e,"class","gridline svelte-qjm35e"),y(e,"x2","100%"),y(e,"y1",n=t[4]+(t[8]?t[9].bandwidth()/2:0)),y(e,"y2",r=t[4]+(t[8]?t[9].bandwidth()/2:0))},m(l,i){M(l,e,i)},p(l,i){i&784&&n!==(n=l[4]+(l[8]?l[9].bandwidth()/2:0))&&y(e,"y1",n),i&784&&r!==(r=l[4]+(l[8]?l[9].bandwidth()/2:0))&&y(e,"y2",r)},d(l){l&&b(e)}}}function Wl(t){let e,n,r,l;return{c(){e=ie("line"),this.h()},l(i){e=ae(i,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),x(e).forEach(b),this.h()},h(){y(e,"class","tick-mark svelte-qjm35e"),y(e,"x1","0"),y(e,"x2",n=t[8]?-6:6),y(e,"y1",r=t[4]+(t[8]?t[9].bandwidth()/2:0)),y(e,"y2",l=t[4]+(t[8]?t[9].bandwidth()/2:0))},m(i,a){M(i,e,a)},p(i,a){a&256&&n!==(n=i[8]?-6:6)&&y(e,"x2",n),a&784&&r!==(r=i[4]+(i[8]?i[9].bandwidth()/2:0))&&y(e,"y1",r),a&784&&l!==(l=i[4]+(i[8]?i[9].bandwidth()/2:0))&&y(e,"y2",l)},d(i){i&&b(e)}}}function Hl(t,e){let n,r,l,i=e[2](e[17])+"",a,o,s,u,f,c,d=e[0]!==!1&&Ol(e),g=e[1]===!0&&Wl(e);return{key:t,first:null,c(){n=ie("g"),d&&d.c(),r=se(),g&&g.c(),l=ie("text"),a=S(i),this.h()},l(h){n=ae(h,"g",{class:!0,transform:!0});var m=x(n);d&&d.l(m),r=se(),g&&g.l(m),l=ae(m,"text",{x:!0,y:!0,dx:!0,dy:!0,style:!0,class:!0});var p=x(l);a=A(p,i),p.forEach(b),m.forEach(b),this.h()},h(){y(l,"x",e[3]),y(l,"y",o=e[4]+(e[8]?e[9].bandwidth()/2:0)),y(l,"dx",s=e[8]?-9:e[5]),y(l,"dy",u=e[8]?4:e[6]),$(l,"text-anchor",e[8]?"end":e[7]),y(l,"class","svelte-qjm35e"),y(n,"class",f="tick tick-"+e[17]+" svelte-qjm35e"),y(n,"transform",c="translate("+(e[12][0]+(e[8]?e[11].left:0))+", "+e[9](e[17])+")"),this.first=n},m(h,m){M(h,n,m),d&&d.m(n,null),k(n,r),g&&g.m(n,null),k(n,l),k(l,a)},p(h,m){e=h,e[0]!==!1?d?d.p(e,m):(d=Ol(e),d.c(),d.m(n,r)):d&&(d.d(1),d=null),e[1]===!0?g?g.p(e,m):(g=Wl(e),g.c(),g.m(n,l)):g&&(g.d(1),g=null),m&1028&&i!==(i=e[2](e[17])+"")&&de(a,i),m&8&&y(l,"x",e[3]),m&784&&o!==(o=e[4]+(e[8]?e[9].bandwidth()/2:0))&&y(l,"y",o),m&288&&s!==(s=e[8]?-9:e[5])&&y(l,"dx",s),m&320&&u!==(u=e[8]?4:e[6])&&y(l,"dy",u),m&384&&$(l,"text-anchor",e[8]?"end":e[7]),m&1024&&f!==(f="tick tick-"+e[17]+" svelte-qjm35e")&&y(n,"class",f),m&7936&&c!==(c="translate("+(e[12][0]+(e[8]?e[11].left:0))+", "+e[9](e[17])+")")&&y(n,"transform",c)},d(h){h&&b(n),d&&d.d(),g&&g.d()}}}function us(t){let e,n=[],r=new Map,l,i=t[10];const a=o=>o[17];for(let o=0;o<i.length;o+=1){let s=ql(t,i,o),u=a(s);r.set(u,n[o]=Hl(u,s))}return{c(){e=ie("g");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=ae(o,"g",{class:!0,transform:!0});var s=x(e);for(let u=0;u<n.length;u+=1)n[u].l(s);s.forEach(b),this.h()},h(){y(e,"class","axis y-axis"),y(e,"transform",l="translate("+-t[11].left+", 0)")},m(o,s){M(o,e,s);for(let u=0;u<n.length;u+=1)n[u].m(e,null)},p(o,[s]){s&8191&&(i=o[10],n=hr(n,s,a,1,o,i,r,e,Yl,Hl,null,ql)),s&2048&&l!==(l="translate("+-o[11].left+", 0)")&&y(e,"transform",l)},i:J,o:J,d(o){o&&b(e);for(let s=0;s<n.length;s+=1)n[s].d()}}}function cs(t,e,n){let r,l,i,a,o;const{padding:s,xRange:u,yScale:f}=Vn("LayerCake");T(t,s,D=>n(11,a=D)),T(t,u,D=>n(12,o=D)),T(t,f,D=>n(9,i=D));let{gridlines:c=!0}=e,{tickMarks:d=!1}=e,{formatTick:g=D=>D}=e,{ticks:h=4}=e,{xTick:m=0}=e,{yTick:p=0}=e,{dxTick:v=0}=e,{dyTick:w=-4}=e,{textAnchor:H="start"}=e;return t.$$set=D=>{"gridlines"in D&&n(0,c=D.gridlines),"tickMarks"in D&&n(1,d=D.tickMarks),"formatTick"in D&&n(2,g=D.formatTick),"ticks"in D&&n(16,h=D.ticks),"xTick"in D&&n(3,m=D.xTick),"yTick"in D&&n(4,p=D.yTick),"dxTick"in D&&n(5,v=D.dxTick),"dyTick"in D&&n(6,w=D.dyTick),"textAnchor"in D&&n(7,H=D.textAnchor)},t.$$.update=()=>{t.$$.dirty&512&&n(8,r=typeof i.bandwidth=="function"),t.$$.dirty&66304&&n(10,l=Array.isArray(h)?h:r?i.domain():typeof h=="function"?h(i.ticks()):i.ticks(h))},[c,d,g,m,p,v,w,H,r,i,l,a,o,s,u,f,h]}class hs extends te{constructor(e){super(),ne(this,e,cs,us,re,{gridlines:0,tickMarks:1,formatTick:2,ticks:16,xTick:3,yTick:4,dxTick:5,dyTick:6,textAnchor:7})}}function Vl(t,e,n){const r=t.slice();return r[14]=e[n],r}function Bl(t){let e,n,r;return{c(){e=ie("circle"),this.h()},l(l){e=ae(l,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),x(e).forEach(b),this.h()},h(){y(e,"cx",n=t[5](t[14])+(t[6].bandwidth?t[6].bandwidth()/2:0)),y(e,"cy",r=t[7](t[14])+(t[8].bandwidth?t[8].bandwidth()/2:0)),y(e,"r",t[0]),y(e,"fill",t[1]),y(e,"stroke",t[2]),y(e,"stroke-width",t[3])},m(l,i){M(l,e,i)},p(l,i){i&112&&n!==(n=l[5](l[14])+(l[6].bandwidth?l[6].bandwidth()/2:0))&&y(e,"cx",n),i&400&&r!==(r=l[7](l[14])+(l[8].bandwidth?l[8].bandwidth()/2:0))&&y(e,"cy",r),i&1&&y(e,"r",l[0]),i&2&&y(e,"fill",l[1]),i&4&&y(e,"stroke",l[2]),i&8&&y(e,"stroke-width",l[3])},d(l){l&&b(e)}}}function ds(t){let e,n=t[4],r=[];for(let l=0;l<n.length;l+=1)r[l]=Bl(Vl(t,n,l));return{c(){e=ie("g");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=ae(l,"g",{class:!0});var i=x(e);for(let a=0;a<r.length;a+=1)r[a].l(i);i.forEach(b),this.h()},h(){y(e,"class","scatter-group")},m(l,i){M(l,e,i);for(let a=0;a<r.length;a+=1)r[a].m(e,null)},p(l,[i]){if(i&511){n=l[4];let a;for(a=0;a<n.length;a+=1){const o=Vl(l,n,a);r[a]?r[a].p(o,i):(r[a]=Bl(o),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},i:J,o:J,d(l){l&&b(e),De(r,l)}}}function gs(t,e,n){let r,l,i,a,o;const{data:s,xGet:u,yGet:f,xScale:c,yScale:d}=Vn("LayerCake");T(t,s,v=>n(4,r=v)),T(t,u,v=>n(5,l=v)),T(t,f,v=>n(7,a=v)),T(t,c,v=>n(6,i=v)),T(t,d,v=>n(8,o=v));let{r:g=5}=e,{fill:h="#0cf"}=e,{stroke:m="#000"}=e,{strokeWidth:p=0}=e;return t.$$set=v=>{"r"in v&&n(0,g=v.r),"fill"in v&&n(1,h=v.fill),"stroke"in v&&n(2,m=v.stroke),"strokeWidth"in v&&n(3,p=v.strokeWidth)},[g,h,m,p,r,l,i,a,o,s,u,f,c,d]}class ms extends te{constructor(e){super(),ne(this,e,gs,ds,re,{r:0,fill:1,stroke:2,strokeWidth:3})}}function _s(t){let e,n,r,l;return e=new fs({props:{ticks:t[1],formatTick:t[7],xAxisTitle:"TCID50/µL"}}),r=new hs({}),{c(){F(e.$$.fragment),n=C(),F(r.$$.fragment)},l(i){G(e.$$.fragment,i),n=L(i),G(r.$$.fragment,i)},m(i,a){U(e,i,a),M(i,n,a),U(r,i,a),l=!0},p(i,a){const o={};a&2&&(o.ticks=i[1]),e.$set(o)},i(i){l||(P(e.$$.fragment,i),P(r.$$.fragment,i),l=!0)},o(i){R(e.$$.fragment,i),R(r.$$.fragment,i),l=!1},d(i){Y(e,i),i&&b(n),Y(r,i)}}}function ys(t){let e,n;return e=new ms({props:{color:"#0fc",r:"6.5"}}),{c(){F(e.$$.fragment)},l(r){G(e.$$.fragment,r)},m(r,l){U(e,r,l),n=!0},p:J,i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function bs(t){let e,n,r,l;return e=new Al({props:{$$slots:{default:[_s]},$$scope:{ctx:t}}}),r=new Al({props:{$$slots:{default:[ys]},$$scope:{ctx:t}}}),{c(){F(e.$$.fragment),n=C(),F(r.$$.fragment)},l(i){G(e.$$.fragment,i),n=L(i),G(r.$$.fragment,i)},m(i,a){U(e,i,a),M(i,n,a),U(r,i,a),l=!0},p(i,a){const o={};a&258&&(o.$$scope={dirty:a,ctx:i}),e.$set(o);const s={};a&256&&(s.$$scope={dirty:a,ctx:i}),r.$set(s)},i(i){l||(P(e.$$.fragment,i),P(r.$$.fragment,i),l=!0)},o(i){R(e.$$.fragment,i),R(r.$$.fragment,i),l=!1},d(i){Y(e,i),i&&b(n),Y(r,i)}}}function ps(t){let e,n,r;return n=new ns({props:{x:ks,y:ws,yScale:Ba(),yDomain:t[3],xScale:oi(),xDomain:t[2],data:t[0],$$slots:{default:[bs]},$$scope:{ctx:t}}}),{c(){e=E("div"),F(n.$$.fragment),this.h()},l(l){e=N(l,"DIV",{class:!0,style:!0});var i=x(e);G(n.$$.fragment,i),i.forEach(b),this.h()},h(){y(e,"class","chart-container svelte-b6xev8"),$(e,"height",t[4]+"px")},m(l,i){M(l,e,i),U(n,e,null),r=!0},p(l,[i]){const a={};i&8&&(a.yDomain=l[3]),i&4&&(a.xDomain=l[2]),i&1&&(a.data=l[0]),i&258&&(a.$$scope={dirty:i,ctx:l}),n.$set(a),(!r||i&16)&&$(e,"height",l[4]+"px")},i(l){r||(P(n.$$.fragment,l),r=!0)},o(l){R(n.$$.fragment,l),r=!1},d(l){l&&b(e),Y(n)}}}const ks="titer",ws="sample";function vs(t,e,n){let r,l,{plotData:i}=e,a,o,s,u;const f=c=>"1e"+Math.log10(c);return t.$$set=c=>{"plotData"in c&&n(0,i=c.plotData)},t.$$.update=()=>{if(t.$$.dirty&1&&n(4,r=i.length*50+100),t.$$.dirty&1&&n(3,l=i.map(c=>c.sample)),t.$$.dirty&99){n(1,s=[]),n(6,o=0),n(5,a=1/0),i.forEach(c=>{c.titer<a&&n(5,a=c.titer),c.titer>o&&n(6,o=c.titer)});for(let c=String(a).split(".")[0].length-2;c<String(o).split(".")[0].length+1;c++)n(1,s=[10**c,...s]);n(1,s=s.reverse()),n(2,u=[s[0],s[s.length-1]])}},[i,s,u,l,r,a,o,f]}class xs extends te{constructor(e){super(),ne(this,e,vs,ps,re,{plotData:0})}}function Fl(t){let e,n;return e=new mt({props:{type:"secondary",$$slots:{default:[Ms]},$$scope:{ctx:t}}}),e.$on("click",t[7]),{c(){F(e.$$.fragment)},l(r){G(e.$$.fragment,r)},m(r,l){U(e,r,l),n=!0},p(r,l){const i={};l&2048&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Ms(t){let e;return{c(){e=S("Download CSV")},l(n){e=A(n,"Download CSV")},m(n,r){M(n,e,r)},d(n){n&&b(e)}}}function Gl(t){let e,n,r,l,i;return{c(){e=E("h3"),n=S("Warnings"),r=S(`
		The following samples had fewer than 2 replicates and are not displayed in the table or plot: `),l=S(t[5]),i=S("."),this.h()},l(a){e=N(a,"H3",{class:!0});var o=x(e);n=A(o,"Warnings"),o.forEach(b),r=A(a,`
		The following samples had fewer than 2 replicates and are not displayed in the table or plot: `),l=A(a,t[5]),i=A(a,"."),this.h()},h(){y(e,"class","warning svelte-jm1qlx")},m(a,o){M(a,e,o),k(e,n),M(a,r,o),M(a,l,o),M(a,i,o)},p(a,o){o&32&&de(l,a[5])},d(a){a&&b(e),a&&b(r),a&&b(l),a&&b(i)}}}function Es(t){let e,n,r,l,i,a,o,s,u,f,c,d,g,h,m,p,v,w,H,D,K,fe,z,_e,ue,ye,I,oe,Q,he;D=new xs({props:{plotData:t[6]}}),ue=new xa({props:{data:t[4]}});let V=t[2].length>0&&Fl(t),X=t[3].length>0&&Gl(t);return{c(){e=E("div"),n=E("h1"),r=S("TCID50 Calculator Settings"),l=C(),i=E("p"),a=S(`The following settings can be adjusted to match the experimental parameters.
		`),o=E("ul"),s=E("li"),u=S("Volume (µL): Specify the infection volume in the first row (row A)."),f=C(),c=E("li"),d=S("Dilution: Specify the dilution factor between successive rows."),g=C(),h=E("div"),m=S(`Volume (µL):
			`),p=E("input"),v=S(`
			Dilution:
			`),w=E("input"),H=C(),F(D.$$.fragment),K=C(),fe=E("h1"),z=S("Results Table"),_e=C(),F(ue.$$.fragment),ye=C(),V&&V.c(),I=C(),X&&X.c(),this.h()},l(W){e=N(W,"DIV",{class:!0});var O=x(e);n=N(O,"H1",{class:!0});var ee=x(n);r=A(ee,"TCID50 Calculator Settings"),ee.forEach(b),l=L(O),i=N(O,"P",{});var Me=x(i);a=A(Me,`The following settings can be adjusted to match the experimental parameters.
		`),Me.forEach(b),o=N(O,"UL",{class:!0});var Se=x(o);s=N(Se,"LI",{});var Ce=x(s);u=A(Ce,"Volume (µL): Specify the infection volume in the first row (row A)."),Ce.forEach(b),f=L(Se),c=N(Se,"LI",{});var Le=x(c);d=A(Le,"Dilution: Specify the dilution factor between successive rows."),Le.forEach(b),Se.forEach(b),g=L(O),h=N(O,"DIV",{class:!0});var Ee=x(h);m=A(Ee,`Volume (µL):
			`),p=N(Ee,"INPUT",{class:!0,type:!0,id:!0}),v=A(Ee,`
			Dilution:
			`),w=N(Ee,"INPUT",{class:!0,type:!0,id:!0}),Ee.forEach(b),H=L(O),G(D.$$.fragment,O),K=L(O),fe=N(O,"H1",{class:!0});var yt=x(fe);z=A(yt,"Results Table"),yt.forEach(b),_e=L(O),G(ue.$$.fragment,O),ye=L(O),V&&V.l(O),I=L(O),X&&X.l(O),O.forEach(b),this.h()},h(){y(n,"class","svelte-jm1qlx"),y(o,"class","list-disc svelte-jm1qlx"),y(p,"class","appearance-none bg-gray-200 text-gray-700 border rounded py-1 px-2 leading-tight focus:outline-none focus:bg-white svelte-jm1qlx"),y(p,"type","text"),y(p,"id","volume"),y(w,"class","appearance-none bg-gray-200 text-gray-700 border rounded py-1 px-2 leading-tight focus:outline-none focus:bg-white svelte-jm1qlx"),y(w,"type","text"),y(w,"id","dilution"),y(h,"class","CalcOpts svelte-jm1qlx"),y(fe,"class","svelte-jm1qlx"),y(e,"class","container svelte-jm1qlx")},m(W,O){M(W,e,O),k(e,n),k(n,r),k(e,l),k(e,i),k(i,a),k(e,o),k(o,s),k(s,u),k(o,f),k(o,c),k(c,d),k(e,g),k(e,h),k(h,m),k(h,p),ke(p,t[0]),k(h,v),k(h,w),ke(w,t[1]),k(e,H),U(D,e,null),k(e,K),k(e,fe),k(fe,z),k(e,_e),U(ue,e,null),k(e,ye),V&&V.m(e,null),k(e,I),X&&X.m(e,null),oe=!0,Q||(he=[ge(p,"input",t[9]),ge(w,"input",t[10])],Q=!0)},p(W,[O]){O&1&&p.value!==W[0]&&ke(p,W[0]),O&2&&w.value!==W[1]&&ke(w,W[1]);const ee={};O&64&&(ee.plotData=W[6]),D.$set(ee);const Me={};O&16&&(Me.data=W[4]),ue.$set(Me),W[2].length>0?V?(V.p(W,O),O&4&&P(V,1)):(V=Fl(W),V.c(),P(V,1),V.m(e,I)):V&&(Pe(),R(V,1,1,()=>{V=null}),Re()),W[3].length>0?X?X.p(W,O):(X=Gl(W),X.c(),X.m(e,null)):X&&(X.d(1),X=null)},i(W){oe||(P(D.$$.fragment,W),P(ue.$$.fragment,W),P(V),oe=!0)},o(W){R(D.$$.fragment,W),R(ue.$$.fragment,W),R(V),oe=!1},d(W){W&&b(e),Y(D),Y(ue),V&&V.d(),X&&X.d(),Q=!1,dr(he)}}}function Ns(t,e,n){let r,l,i,a,o,s;T(t,xe,h=>n(8,s=h));let u=11,f=10;const c=()=>{let h=[["sample","titer"]];r.forEach(H=>{h=[...h,[H.sample,H.titer]]});let m="data:text/csv;charset=utf-8,"+h.map(H=>H.join(",")).join(`
`);var p=encodeURI(m),v=document.createElement("a");v.setAttribute("href",p);let w=new Date().toISOString().slice(0,10);v.setAttribute("download",w+"_titers.csv"),document.body.appendChild(v),v.click()};function d(){u=this.value,n(0,u)}function g(){f=this.value,n(1,f)}return t.$$.update=()=>{t.$$.dirty&259&&n(2,r=ka(s,u,f)),t.$$.dirty&4&&n(4,l=r.filter(h=>h.nrep>1)),t.$$.dirty&4&&n(3,i=r.filter(h=>h.nrep<2)),t.$$.dirty&16&&n(6,a=l.filter(h=>h.titer>0)),t.$$.dirty&8&&n(5,o=i.map(h=>h.sample).join(", "))},[u,f,r,i,l,o,a,c,s,d,g]}class Ts extends te{constructor(e){super(),ne(this,e,Ns,Es,re,{})}}function Ps(t){let e,n;return e=new Ts({}),{c(){F(e.$$.fragment)},l(r){G(e.$$.fragment,r)},m(r,l){U(e,r,l),n=!0},p:J,i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Rs(t){let e,n;return e=new ba({}),e.$on("add",t[3]),{c(){F(e.$$.fragment)},l(r){G(e.$$.fragment,r)},m(r,l){U(e,r,l),n=!0},p:J,i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Ds(t){let e,n;return e=new ha({}),e.$on("add",t[3]),{c(){F(e.$$.fragment)},l(r){G(e.$$.fragment,r)},m(r,l){U(e,r,l),n=!0},p:J,i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function Ss(t){let e,n;return e=new ra({}),e.$on("edit",t[4]),{c(){F(e.$$.fragment)},l(r){G(e.$$.fragment,r)},m(r,l){U(e,r,l),n=!0},p:J,i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){Y(e,r)}}}function As(t){let e,n,r,l,i,a;n=new aa({props:{activeItem:t[0],items:t[1]}}),n.$on("tabChange",t[2]);const o=[Ss,Ds,Rs,Ps],s=[];function u(f,c){return f[0]==="All Plates"?0:f[0]==="Add New Plate"?1:f[0]==="Edit Plate"?2:f[0]==="Results"?3:-1}return~(l=u(t))&&(i=s[l]=o[l](t)),{c(){e=E("main"),F(n.$$.fragment),r=C(),i&&i.c(),this.h()},l(f){e=N(f,"MAIN",{class:!0});var c=x(e);G(n.$$.fragment,c),r=L(c),i&&i.l(c),c.forEach(b),this.h()},h(){y(e,"class","svelte-1jyp8j2")},m(f,c){M(f,e,c),U(n,e,null),k(e,r),~l&&s[l].m(e,null),a=!0},p(f,[c]){const d={};c&1&&(d.activeItem=f[0]),n.$set(d);let g=l;l=u(f),l===g?~l&&s[l].p(f,c):(i&&(Pe(),R(s[g],1,1,()=>{s[g]=null}),Re()),~l?(i=s[l],i?i.p(f,c):(i=s[l]=o[l](f),i.c()),P(i,1),i.m(e,null)):i=null)},i(f){a||(P(n.$$.fragment,f),P(i),a=!0)},o(f){R(n.$$.fragment,f),R(i),a=!1},d(f){f&&b(e),Y(n),~l&&s[l].d()}}}function zs(t,e,n){let r,l;T(t,xe,f=>n(5,r=f)),T(t,We,f=>n(6,l=f));let i=["All Plates","Add New Plate","Edit Plate","Results"],a="All Plates";return[a,i,f=>{if(f.detail.currentTab=="Edit Plate"&f.detail.newTab!="EditPlate"&&l!=-1){let c=r.find(d=>d.id==l);c.added=!0,We.set(-1)}f.detail.newTab=="Results"&r.length<2||f.detail.newTab=="Edit Plate"&r.length<2?n(0,a=f.detail.currentTab):n(0,a=f.detail.newTab)},f=>{n(0,a="All Plates")},f=>{n(0,a="Edit Plate"),We.set(f.detail.plate.id)}]}class Cs extends te{constructor(e){super(),ne(this,e,zs,As,re,{})}}export{Cs as default};
